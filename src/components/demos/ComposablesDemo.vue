<template>
  <div class="q-gutter-md">
    <div class="text-h6">Vue ç»„åˆå¼å‡½æ•°è¯¦è§£</div>

    <!-- useQuasar -->
    <q-card>
      <q-card-section>
        <div class="text-h6 text-primary">1. useQuasar()</div>
        <div class="text-subtitle2 text-grey-7">Quasar çš„æ ¸å¿ƒç»„åˆå¼å‡½æ•°ï¼Œæä¾›å…¨å±€ API è®¿é—®</div>
      </q-card-section>

      <q-expansion-item label="åŠŸèƒ½æ¼”ç¤º" icon="code" default-opened>
        <q-card>
          <q-card-section class="q-gutter-md">
            <!-- é€šçŸ¥ç³»ç»Ÿ -->
            <div>
              <div class="text-subtitle1 q-mb-sm">ğŸ“¢ $q.notify - é€šçŸ¥ç³»ç»Ÿ</div>
              <div class="q-gutter-sm">
                <q-btn color="positive" label="æˆåŠŸé€šçŸ¥" @click="showSuccessNotify" />
                <q-btn color="negative" label="é”™è¯¯é€šçŸ¥" @click="showErrorNotify" />
                <q-btn color="warning" label="è­¦å‘Šé€šçŸ¥" @click="showWarningNotify" />
                <q-btn color="info" label="ä¿¡æ¯é€šçŸ¥" @click="showInfoNotify" />
                <q-btn color="purple" label="è‡ªå®šä¹‰é€šçŸ¥" @click="showCustomNotify" />
              </div>
            </div>

            <q-separator />

            <!-- å¯¹è¯æ¡†ç³»ç»Ÿ -->
            <div>
              <div class="text-subtitle1 q-mb-sm">ğŸ’¬ $q.dialog - å¯¹è¯æ¡†ç³»ç»Ÿ</div>
              <div class="q-gutter-sm">
                <q-btn color="primary" label="ç¡®è®¤å¯¹è¯æ¡†" @click="showConfirmDialog" />
                <q-btn color="secondary" label="è¾“å…¥å¯¹è¯æ¡†" @click="showPromptDialog" />
                <q-btn color="orange" label="é€‰æ‹©å¯¹è¯æ¡†" @click="showOptionDialog" />
              </div>
            </div>

            <q-separator />

            <!-- å…¨å±åŠ è½½ -->
            <div>
              <div class="text-subtitle1 q-mb-sm">â³ $q.loading - å…¨å±åŠ è½½</div>
              <div class="q-gutter-sm">
                <q-btn color="primary" label="æ˜¾ç¤ºåŠ è½½" @click="showLoading" />
                <q-btn color="secondary" label="è‡ªå®šä¹‰åŠ è½½" @click="showCustomLoading" />
              </div>
            </div>

            <q-separator />

            <!-- å±å¹•ä¿¡æ¯ -->
            <div>
              <div class="text-subtitle1 q-mb-sm">ğŸ“± $q.screen - å±å¹•ä¿¡æ¯</div>
              <div class="q-gutter-sm">
                <q-chip>å®½åº¦: {{ $q.screen.width }}px</q-chip>
                <q-chip>é«˜åº¦: {{ $q.screen.height }}px</q-chip>
                <q-chip :color="$q.screen.xs ? 'red' : 'grey'">è¶…å°å±: {{ $q.screen.xs }}</q-chip>
                <q-chip :color="$q.screen.sm ? 'orange' : 'grey'">å°å±: {{ $q.screen.sm }}</q-chip>
                <q-chip :color="$q.screen.md ? 'blue' : 'grey'">ä¸­å±: {{ $q.screen.md }}</q-chip>
                <q-chip :color="$q.screen.lg ? 'green' : 'grey'">å¤§å±: {{ $q.screen.lg }}</q-chip>
              </div>
            </div>

            <q-separator />

            <!-- å¹³å°æ£€æµ‹ -->
            <div>
              <div class="text-subtitle1 q-mb-sm">ğŸ–¥ï¸ $q.platform - å¹³å°æ£€æµ‹</div>
              <div class="q-gutter-sm">
                <q-chip :color="$q.platform.is.mobile ? 'positive' : 'grey'">
                  <q-icon name="phone_android" />
                  ç§»åŠ¨è®¾å¤‡: {{ $q.platform.is.mobile }}
                </q-chip>
                <q-chip :color="$q.platform.is.desktop ? 'positive' : 'grey'">
                  <q-icon name="desktop_windows" />
                  æ¡Œé¢è®¾å¤‡: {{ $q.platform.is.desktop }}
                </q-chip>
              </div>
            </div>

            <q-separator />

            <!-- æ·±è‰²æ¨¡å¼ -->
            <div>
              <div class="text-subtitle1 q-mb-sm">ğŸŒ™ $q.dark - æ·±è‰²æ¨¡å¼</div>
              <div class="row items-center q-gutter-sm">
                <q-toggle v-model="darkMode" @update:model-value="toggleDarkMode" />
                <span>æ·±è‰²æ¨¡å¼: {{ $q.dark.isActive ? 'å¼€å¯' : 'å…³é—­' }}</span>
                <q-btn flat label="åˆ‡æ¢" @click="$q.dark.toggle()" />
              </div>
            </div>
          </q-card-section>
        </q-card>
      </q-expansion-item>

      <!-- ä»£ç ç¤ºä¾‹ -->
      <q-expansion-item label="ğŸ’» ä»£ç ç¤ºä¾‹" icon="code">
        <q-card flat bordered>
          <q-card-section>
            <q-tabs v-model="codeTab" align="left">
              <q-tab name="basic" label="åŸºç¡€ç”¨æ³•" />
              <q-tab name="advanced" label="é«˜çº§ç”¨æ³•" />
            </q-tabs>

            <q-separator />

            <q-tab-panels v-model="codeTab" animated>
              <q-tab-panel name="basic">
                <div class="code-example">
                  <div class="text-subtitle2 q-mb-sm">åŸºç¡€ API ä½¿ç”¨</div>
                  <div class="code-block">
                    // å¯¼å…¥<br>
                    import { useQuasar } from 'quasar'<br>
                    <br>
                    // åœ¨ setup ä¸­ä½¿ç”¨<br>
                    const $q = useQuasar()<br>
                    <br>
                    // é€šçŸ¥<br>
                    $q.notify({<br>
                    &nbsp;&nbsp;message: 'æ“ä½œæˆåŠŸ',<br>
                    &nbsp;&nbsp;color: 'positive',<br>
                    &nbsp;&nbsp;position: 'top'<br>
                    })<br>
                    <br>
                    // å¯¹è¯æ¡†<br>
                    $q.dialog({<br>
                    &nbsp;&nbsp;title: 'ç¡®è®¤',<br>
                    &nbsp;&nbsp;message: 'ç¡®å®šè¦åˆ é™¤å—ï¼Ÿ',<br>
                    &nbsp;&nbsp;cancel: true<br>
                    }).onOk(() => {<br>
                    &nbsp;&nbsp;console.log('ç”¨æˆ·ç¡®è®¤')<br>
                    })
                  </div>
                </div>
              </q-tab-panel>

              <q-tab-panel name="advanced">
                <div class="code-example">
                  <div class="text-subtitle2 q-mb-sm">å“åº”å¼è®¾è®¡</div>
                  <div class="code-block">
                    // å“åº”å¼å¸ƒå±€<br>
                    const isMobile = computed(() => $q.screen.lt.md)<br>
                    <br>
                    // æ ¹æ®å±å¹•å¤§å°è°ƒæ•´<br>
                    const columns = computed(() => {<br>
                    &nbsp;&nbsp;if ($q.screen.xs) return 1<br>
                    &nbsp;&nbsp;if ($q.screen.sm) return 2<br>
                    &nbsp;&nbsp;return 3<br>
                    })<br>
                    <br>
                    // å¹³å°ç‰¹å®šé€»è¾‘<br>
                    if ($q.platform.is.mobile) {<br>
                    &nbsp;&nbsp;// ç§»åŠ¨ç«¯ä¸“ç”¨é€»è¾‘<br>
                    }
                  </div>
                </div>
              </q-tab-panel>
            </q-tab-panels>
          </q-card-section>
        </q-card>
      </q-expansion-item>
    </q-card>

    <q-separator />

    <!-- useMeta -->
    <q-card>
      <q-card-section>
        <div class="text-h6 text-positive">2. useMeta()</div>
        <div class="text-subtitle2 text-grey-7">åŠ¨æ€è®¾ç½®é¡µé¢ meta ä¿¡æ¯ï¼ˆSEO ä¼˜åŒ–å¿…å¤‡ï¼‰</div>
      </q-card-section>

      <q-expansion-item label="åŠŸèƒ½æ¼”ç¤º" icon="web">
        <q-card>
          <q-card-section class="q-gutter-md">
            <div>
              <div class="text-subtitle1 q-mb-sm">ğŸ”§ åŠ¨æ€è®¾ç½®é¡µé¢ä¿¡æ¯</div>
              <div class="q-gutter-sm">
                <q-btn color="primary" label="è®¾ç½®é¦–é¡µä¿¡æ¯" @click="setHomeMeta" />
                <q-btn color="secondary" label="è®¾ç½®äº§å“é¡µä¿¡æ¯" @click="setProductMeta" />
                <q-btn color="positive" label="è®¾ç½®ç”¨æˆ·é¡µä¿¡æ¯" @click="setUserMeta" />
                <q-btn color="grey" label="é‡ç½®é¡µé¢ä¿¡æ¯" @click="resetMeta" />
              </div>
            </div>

            <q-separator />

            <div>
              <div class="text-subtitle1 q-mb-sm">ğŸ“„ å½“å‰é¡µé¢ä¿¡æ¯</div>
              <q-list dense bordered class="rounded-borders">
                <q-item>
                  <q-item-section>
                    <q-item-label caption>é¡µé¢æ ‡é¢˜</q-item-label>
                    <q-item-label>{{ currentMeta.title }}</q-item-label>
                  </q-item-section>
                </q-item>
                <q-item>
                  <q-item-section>
                    <q-item-label caption>é¡µé¢æè¿°</q-item-label>
                    <q-item-label>{{ currentMeta.description }}</q-item-label>
                  </q-item-section>
                </q-item>
                <q-item>
                  <q-item-section>
                    <q-item-label caption>å…³é”®è¯</q-item-label>
                    <q-item-label>{{ currentMeta.keywords }}</q-item-label>
                  </q-item-section>
                </q-item>
              </q-list>
            </div>
          </q-card-section>
        </q-card>
      </q-expansion-item>
    </q-card>

    <q-separator />

    <!-- useDialogPluginComponent -->
    <q-card>
      <q-card-section>
        <div class="text-h6 text-secondary">3. useDialogPluginComponent()</div>
        <div class="text-subtitle2 text-grey-7">åˆ›å»ºå¯å¤ç”¨çš„å¯¹è¯æ¡†æ’ä»¶ç»„ä»¶</div>
      </q-card-section>

      <q-expansion-item label="ğŸ“– ä½¿ç”¨è¯´æ˜" icon="info">
        <q-card>
          <q-card-section>
            <div class="text-body1 q-mb-md">
              useDialogPluginComponent ä¸»è¦ç”¨äºåˆ›å»ºå¯å¤ç”¨çš„å¯¹è¯æ¡†ç»„ä»¶ï¼Œç‰¹åˆ«é€‚åˆï¼š
            </div>
            <q-list>
              <q-item>
                <q-item-section avatar>
                  <q-icon name="edit" color="primary" />
                </q-item-section>
                <q-item-section>
                  <q-item-label>ç”¨æˆ·ä¿¡æ¯ç¼–è¾‘å¯¹è¯æ¡†</q-item-label>
                  <q-item-label caption>å¤æ‚çš„ç”¨æˆ·èµ„æ–™ç¼–è¾‘è¡¨å•</q-item-label>
                </q-item-section>
              </q-item>
              <q-item>
                <q-item-section avatar>
                  <q-icon name="delete" color="negative" />
                </q-item-section>
                <q-item-section>
                  <q-item-label>ç¡®è®¤åˆ é™¤å¯¹è¯æ¡†</q-item-label>
                  <q-item-label caption>å¸¦è¯¦ç»†ä¿¡æ¯çš„åˆ é™¤ç¡®è®¤</q-item-label>
                </q-item-section>
              </q-item>
              <q-item>
                <q-item-section avatar>
                  <q-icon name="shopping_cart" color="orange" />
                </q-item-section>
                <q-item-section>
                  <q-item-label>è´­ç‰©è½¦å¯¹è¯æ¡†</q-item-label>
                  <q-item-label caption>å•†å“é€‰æ‹©å’Œé…ç½®</q-item-label>
                </q-item-section>
              </q-item>
            </q-list>
          </q-card-section>
        </q-card>
      </q-expansion-item>
    </q-card>

    <q-separator />

    <!-- useFormChild -->
    <q-card>
      <q-card-section>
        <div class="text-h6 text-orange">4. useFormChild()</div>
        <div class="text-subtitle2 text-grey-7">åœ¨ q-form ä¸­æ³¨å†Œè‡ªå®šä¹‰è¡¨å•ç»„ä»¶</div>
      </q-card-section>

      <q-expansion-item label="ğŸ“ è¡¨å•æ¼”ç¤º" icon="edit_note">
        <q-card>
          <q-card-section>
            <q-form @submit="onSubmit" class="q-gutter-md">
              <q-input v-model="formData.name" label="å§“å" :rules="[val => !!val || 'å§“åå¿…å¡«']" outlined />

              <q-input v-model="formData.email" label="é‚®ç®±" type="email" :rules="[
                val => !!val || 'é‚®ç®±å¿…å¡«',
                val => /.+@.+\..+/.test(val) || 'é‚®ç®±æ ¼å¼é”™è¯¯'
              ]" outlined />

              <div>
                <q-btn label="æäº¤è¡¨å•" type="submit" color="primary" />
                <q-btn label="é‡ç½®" type="reset" color="grey" flat class="q-ml-sm" />
              </div>
            </q-form>

            <div class="text-caption text-info q-mt-md">
              ğŸ’¡ è¿™æ¼”ç¤ºäº†åŸºç¡€è¡¨å•éªŒè¯ï¼ŒuseFormChild ä¸»è¦ç”¨äºåˆ›å»ºè‡ªå®šä¹‰è¡¨å•ç»„ä»¶
            </div>
          </q-card-section>
        </q-card>
      </q-expansion-item>

      <q-expansion-item label="ğŸ› ï¸ ä½¿ç”¨åœºæ™¯" icon="build">
        <q-card>
          <q-card-section>
            <q-list>
              <q-item>
                <q-item-section avatar>
                  <q-icon name="input" color="primary" />
                </q-item-section>
                <q-item-section>
                  <q-item-label>è‡ªå®šä¹‰è¾“å…¥æ§ä»¶</q-item-label>
                  <q-item-label caption>å¸¦ç‰¹æ®ŠéªŒè¯é€»è¾‘çš„è¾“å…¥æ¡†</q-item-label>
                </q-item-section>
              </q-item>
              <q-item>
                <q-item-section avatar>
                  <q-icon name="date_range" color="secondary" />
                </q-item-section>
                <q-item-section>
                  <q-item-label>å¤åˆç»„ä»¶</q-item-label>
                  <q-item-label caption>æ—¥æœŸèŒƒå›´é€‰æ‹©å™¨ç­‰å¤æ‚ç»„ä»¶</q-item-label>
                </q-item-section>
              </q-item>
              <q-item>
                <q-item-section avatar>
                  <q-icon name="tune" color="orange" />
                </q-item-section>
                <q-item-section>
                  <q-item-label>å¯é…ç½®ç»„ä»¶</q-item-label>
                  <q-item-label caption>æ ¹æ®é…ç½®ç”Ÿæˆä¸åŒè¡Œä¸ºçš„ç»„ä»¶</q-item-label>
                </q-item-section>
              </q-item>
            </q-list>
          </q-card-section>
        </q-card>
      </q-expansion-item>
    </q-card>

    <q-separator />

    <!-- å®é™…åº”ç”¨æŠ€å·§ -->
    <q-card>
      <q-card-section>
        <div class="text-h6">ğŸ’¡ å®é™…åº”ç”¨æŠ€å·§</div>
      </q-card-section>

      <q-expansion-item label="ğŸ¯ å“åº”å¼è®¾è®¡æœ€ä½³å®è·µ" icon="devices" default-opened>
        <q-card>
          <q-card-section>
            <div class="q-mb-md">
              <div class="text-subtitle1">å½“å‰å±å¹•ä¿¡æ¯</div>
              <q-list dense>
                <q-item>
                  <q-item-section>å±å¹•å°ºå¯¸</q-item-section>
                  <q-item-section side>{{ $q.screen.width }} x {{ $q.screen.height }}</q-item-section>
                </q-item>
                <q-item>
                  <q-item-section>è®¾å¤‡ç±»å‹</q-item-section>
                  <q-item-section side>
                    <q-badge :color="$q.platform.is.mobile ? 'positive' : 'grey'">
                      {{ $q.platform.is.mobile ? 'ç§»åŠ¨è®¾å¤‡' : 'æ¡Œé¢è®¾å¤‡' }}
                    </q-badge>
                  </q-item-section>
                </q-item>
                <q-item>
                  <q-item-section>å½“å‰æ–­ç‚¹</q-item-section>
                  <q-item-section side>
                    <q-badge v-if="$q.screen.xs" color="red">XS</q-badge>
                    <q-badge v-else-if="$q.screen.sm" color="orange">SM</q-badge>
                    <q-badge v-else-if="$q.screen.md" color="blue">MD</q-badge>
                    <q-badge v-else-if="$q.screen.lg" color="green">LG</q-badge>
                    <q-badge v-else color="purple">XL</q-badge>
                  </q-item-section>
                </q-item>
              </q-list>
            </div>

            <div class="text-body2 q-mb-sm">ğŸ’¡ æ ¹æ®å±å¹•å¤§å°è°ƒæ•´å¸ƒå±€ï¼š</div>
            <div class="row q-col-gutter-sm">
              <div :class="responsiveClass" v-for="i in 6" :key="i">
                <q-card flat bordered>
                  <q-card-section class="text-center">
                    å¡ç‰‡ {{ i }}
                  </q-card-section>
                </q-card>
              </div>
            </div>
          </q-card-section>
        </q-card>
      </q-expansion-item>

      <q-expansion-item label="ğŸ”” é€šçŸ¥ç³»ç»Ÿæœ€ä½³å®è·µ" icon="notifications">
        <q-card>
          <q-card-section>
            <div class="text-body1 q-mb-md">å»ºè®®å°è£…é€šçŸ¥å‡½æ•°ï¼š</div>
            <div class="code-block q-mb-md">
              // composables/useNotification.js<br>
              export function useNotification() {<br>
              &nbsp;&nbsp;const $q = useQuasar()<br>
              &nbsp;&nbsp;<br>
              &nbsp;&nbsp;const success = (msg) => $q.notify({<br>
              &nbsp;&nbsp;&nbsp;&nbsp;message: msg,<br>
              &nbsp;&nbsp;&nbsp;&nbsp;color: 'positive',<br>
              &nbsp;&nbsp;&nbsp;&nbsp;icon: 'check_circle'<br>
              &nbsp;&nbsp;})<br>
              &nbsp;&nbsp;<br>
              &nbsp;&nbsp;return { success, error, warning }<br>
              }
            </div>
            <div class="q-gutter-sm">
              <q-btn color="positive" label="æµ‹è¯•æˆåŠŸ" @click="testNotifications('success')" />
              <q-btn color="negative" label="æµ‹è¯•é”™è¯¯" @click="testNotifications('error')" />
              <q-btn color="warning" label="æµ‹è¯•è­¦å‘Š" @click="testNotifications('warning')" />
            </div>
          </q-card-section>
        </q-card>
      </q-expansion-item>

      <q-expansion-item label="ğŸŒ SEO å’Œ Meta ä¼˜åŒ–" icon="public">
        <q-card>
          <q-card-section>
            <div class="text-body1 q-mb-md">useMeta ç”¨äº SEO ä¼˜åŒ–ï¼š</div>

            <div class="q-gutter-sm q-mb-md">
              <q-btn color="primary" label="ç”µå•†é¡µé¢ SEO" @click="setEcommerceMeta" />
              <q-btn color="secondary" label="åšå®¢æ–‡ç«  SEO" @click="setBlogMeta" />
              <q-btn color="positive" label="ç”¨æˆ·ä¸­å¿ƒ SEO" @click="setUserCenterMeta" />
            </div>

            <q-card flat bordered>
              <q-card-section>
                <div class="text-subtitle2">å½“å‰é¡µé¢ Meta è®¾ç½®ï¼š</div>
                <div class="q-mt-sm text-caption">
                  æ ‡é¢˜ï¼š{{ currentMeta.title }}<br>
                  æè¿°ï¼š{{ currentMeta.description }}<br>
                  å…³é”®è¯ï¼š{{ currentMeta.keywords }}
                </div>
              </q-card-section>
            </q-card>

            <div class="code-block q-mt-md">
              // åŠ¨æ€ Meta è®¾ç½®<br>
              useMeta(computed(() => ({<br>
              &nbsp;&nbsp;title: product.value?.name + ' - å•†åŸ',<br>
              &nbsp;&nbsp;meta: {<br>
              &nbsp;&nbsp;&nbsp;&nbsp;description: { <br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name: 'description', <br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;content: product.value?.description <br>
              &nbsp;&nbsp;&nbsp;&nbsp;}<br>
              &nbsp;&nbsp;}<br>
              })))
            </div>
          </q-card-section>
        </q-card>
      </q-expansion-item>
    </q-card>

    <q-separator />

    <!-- æ€»ç»“ -->
    <q-card class="bg-grey-1">
      <q-card-section>
        <div class="text-h6">ğŸ“‹ å­¦ä¹ æ€»ç»“</div>
      </q-card-section>
      <q-card-section>
        <q-list>
          <q-item>
            <q-item-section avatar>
              <q-avatar color="primary" text-color="white" icon="1" />
            </q-item-section>
            <q-item-section>
              <q-item-label>useQuasar() - æ ¸å¿ƒ API</q-item-label>
              <q-item-label caption>é€šçŸ¥ã€å¯¹è¯æ¡†ã€åŠ è½½ã€å±å¹•æ£€æµ‹ã€å¹³å°æ£€æµ‹</q-item-label>
            </q-item-section>
          </q-item>
          <q-item>
            <q-item-section avatar>
              <q-avatar color="secondary" text-color="white" icon="2" />
            </q-item-section>
            <q-item-section>
              <q-item-label>useMeta() - SEO ä¼˜åŒ–</q-item-label>
              <q-item-label caption>é¡µé¢æ ‡é¢˜ã€æè¿°ã€å…³é”®è¯ã€Open Graph</q-item-label>
            </q-item-section>
          </q-item>
          <q-item>
            <q-item-section avatar>
              <q-avatar color="orange" text-color="white" icon="3" />
            </q-item-section>
            <q-item-section>
              <q-item-label>useDialogPluginComponent() - å¯¹è¯æ¡†æ’ä»¶</q-item-label>
              <q-item-label caption>åˆ›å»ºå¯å¤ç”¨çš„å¯¹è¯æ¡†ç»„ä»¶</q-item-label>
            </q-item-section>
          </q-item>
          <q-item>
            <q-item-section avatar>
              <q-avatar color="positive" text-color="white" icon="4" />
            </q-item-section>
            <q-item-section>
              <q-item-label>useFormChild() - è¡¨å•é›†æˆ</q-item-label>
              <q-item-label caption>å°†è‡ªå®šä¹‰ç»„ä»¶é›†æˆåˆ° q-form éªŒè¯ç³»ç»Ÿ</q-item-label>
            </q-item-section>
          </q-item>
        </q-list>
      </q-card-section>
    </q-card>
  </div>
</template>

<script setup>
import { ref, computed } from 'vue'
import { useQuasar, useMeta } from 'quasar'

const $q = useQuasar()

// å½“å‰ç»„ä»¶çš„ meta ä¿¡æ¯
const currentMeta = ref({
  title: 'Quasar ç»„åˆå¼å‡½æ•°å­¦ä¹ ',
  description: 'å­¦ä¹  useQuasarã€useDialogPluginComponentã€useFormChildã€useMeta çš„ä½¿ç”¨',
  keywords: 'Vue3, Quasar, Composables, ç»„åˆå¼å‡½æ•°'
})

// è®¾ç½®é¡µé¢ meta
useMeta(() => ({
  title: currentMeta.value.title,
  meta: {
    description: { name: 'description', content: currentMeta.value.description },
    keywords: { name: 'keywords', content: currentMeta.value.keywords }
  }
}))

const darkMode = ref($q.dark.isActive)
const formData = ref({
  name: '',
  email: ''
})
const codeTab = ref('basic')

// å“åº”å¼å¸ƒå±€ç±»
const responsiveClass = computed(() => {
  if ($q.screen.xs) return 'col-12'
  if ($q.screen.sm) return 'col-6'
  if ($q.screen.md) return 'col-4'
  return 'col-2'
})

// useQuasar æ¼”ç¤ºå‡½æ•°
function showSuccessNotify() {
  $q.notify({
    message: 'âœ… æ“ä½œæˆåŠŸï¼',
    color: 'positive',
    icon: 'check_circle',
    position: 'top-right'
  })
}

function showErrorNotify() {
  $q.notify({
    message: 'âŒ æ“ä½œå¤±è´¥ï¼Œè¯·é‡è¯•',
    color: 'negative',
    icon: 'error',
    position: 'top-right'
  })
}

function showWarningNotify() {
  $q.notify({
    message: 'âš ï¸ è¯·æ³¨æ„ï¼šæ•°æ®å°†è¢«è¦†ç›–',
    color: 'warning',
    icon: 'warning',
    textColor: 'dark',
    position: 'top-right'
  })
}

function showInfoNotify() {
  $q.notify({
    message: 'â„¹ï¸ æ–°ç‰ˆæœ¬å¯ç”¨ï¼Œè¯·æ›´æ–°',
    color: 'info',
    icon: 'info',
    position: 'top-right'
  })
}

function showCustomNotify() {
  $q.notify({
    message: 'â­ è‡ªå®šä¹‰é€šçŸ¥æ ·å¼',
    color: 'purple',
    icon: 'star',
    position: 'bottom',
    timeout: 5000,
    actions: [
      { label: 'æŸ¥çœ‹', color: 'yellow', handler: () => console.log('æŸ¥çœ‹') },
      { label: 'å…³é—­', color: 'white' }
    ]
  })
}

function showConfirmDialog() {
  $q.dialog({
    title: 'ç¡®è®¤æ“ä½œ',
    message: 'ç¡®å®šè¦æ‰§è¡Œæ­¤æ“ä½œå—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚',
    cancel: true,
    persistent: true
  }).onOk(() => {
    $q.notify('ç”¨æˆ·ç¡®è®¤äº†æ“ä½œ')
  }).onCancel(() => {
    $q.notify('ç”¨æˆ·å–æ¶ˆäº†æ“ä½œ')
  })
}

function showPromptDialog() {
  $q.dialog({
    title: 'è¾“å…¥ä¿¡æ¯',
    message: 'è¯·è¾“å…¥æ‚¨çš„å§“åï¼š',
    prompt: {
      model: '',
      type: 'text',
      isValid: val => val.length > 0
    },
    cancel: true
  }).onOk(data => {
    $q.notify(`ä½ å¥½ï¼Œ${data}ï¼`)
  })
}

function showOptionDialog() {
  $q.dialog({
    title: 'é€‰æ‹©æ“ä½œ',
    message: 'è¯·é€‰æ‹©è¦æ‰§è¡Œçš„æ“ä½œï¼š',
    options: {
      type: 'radio',
      model: 'edit',
      items: [
        { label: 'ç¼–è¾‘', value: 'edit' },
        { label: 'åˆ é™¤', value: 'delete' },
        { label: 'å¤åˆ¶', value: 'copy' }
      ]
    },
    cancel: true
  }).onOk(data => {
    $q.notify(`é€‰æ‹©äº†ï¼š${data}`)
  })
}

function showLoading() {
  $q.loading.show({
    message: 'è¯·ç¨å€™...'
  })

  setTimeout(() => {
    $q.loading.hide()
    $q.notify('åŠ è½½å®Œæˆ')
  }, 2000)
}

function showCustomLoading() {
  $q.loading.show({
    spinner: 'q-spinner-gears',
    spinnerColor: 'red',
    spinnerSize: 80,
    backgroundColor: 'purple',
    message: 'æ­£åœ¨å¤„ç†æ•°æ®...',
    messageColor: 'white'
  })

  setTimeout(() => {
    $q.loading.hide()
  }, 2000)
}

function toggleDarkMode(val) {
  $q.dark.set(val)
}

// useMeta æ¼”ç¤ºå‡½æ•°
function setHomeMeta() {
  currentMeta.value = {
    title: 'é¦–é¡µ - æˆ‘çš„ç½‘ç«™',
    description: 'æ¬¢è¿æ¥åˆ°æˆ‘çš„ç½‘ç«™é¦–é¡µï¼Œè¿™é‡Œæœ‰æœ€æ–°çš„äº§å“å’ŒæœåŠ¡',
    keywords: 'é¦–é¡µ,äº§å“,æœåŠ¡,å…¬å¸'
  }
  $q.notify('âœ… å·²è®¾ç½®é¦–é¡µ meta ä¿¡æ¯')
}

function setProductMeta() {
  currentMeta.value = {
    title: 'é«˜ç«¯æ™ºèƒ½æ‰‹æœº - äº§å“è¯¦æƒ…',
    description: 'æœ€æ–°æ¬¾æ™ºèƒ½æ‰‹æœºï¼Œé¡¶çº§é…ç½®ï¼Œå“è¶Šæ€§èƒ½ï¼Œç°åœ¨è´­ä¹°äº«å—ä¼˜æƒ ',
    keywords: 'æ™ºèƒ½æ‰‹æœº,é«˜ç«¯,ç§‘æŠ€,è´­ä¹°'
  }
  $q.notify('âœ… å·²è®¾ç½®äº§å“é¡µ meta ä¿¡æ¯')
}

function setUserMeta() {
  currentMeta.value = {
    title: 'å¼ ä¸‰çš„ä¸ªäººä¸»é¡µ - ç”¨æˆ·ä¸­å¿ƒ',
    description: 'æŸ¥çœ‹å¼ ä¸‰çš„ä¸ªäººä¿¡æ¯ã€åŠ¨æ€å’Œè”ç³»æ–¹å¼',
    keywords: 'ç”¨æˆ·,ä¸ªäººä¸»é¡µ,å¼ ä¸‰,è”ç³»æ–¹å¼'
  }
  $q.notify('âœ… å·²è®¾ç½®ç”¨æˆ·é¡µ meta ä¿¡æ¯')
}

function resetMeta() {
  currentMeta.value = {
    title: 'Quasar ç»„åˆå¼å‡½æ•°å­¦ä¹ ',
    description: 'å­¦ä¹  useQuasarã€useDialogPluginComponentã€useFormChildã€useMeta çš„ä½¿ç”¨',
    keywords: 'Vue3, Quasar, Composables, ç»„åˆå¼å‡½æ•°'
  }
  $q.notify('ğŸ”„ å·²é‡ç½®é¡µé¢ meta ä¿¡æ¯')
}

function setEcommerceMeta() {
  currentMeta.value = {
    title: 'é™æ—¶ç‰¹æƒ  - iPhone 15 Pro Max - ç§‘æŠ€å•†åŸ',
    description: 'å…¨æ–° iPhone 15 Pro Maxï¼ŒA17 Pro èŠ¯ç‰‡ï¼Œé’›é‡‘å±è®¾è®¡ï¼Œç°åœ¨è´­ä¹°äº« 8 æŠ˜ä¼˜æƒ ',
    keywords: 'iPhone,æ‰‹æœº,è‹¹æœ,é™æ—¶ç‰¹æƒ ,ç§‘æŠ€'
  }
  $q.notify('ğŸ›’ ç”µå•†é¡µé¢ SEO å·²ä¼˜åŒ–')
}

function setBlogMeta() {
  currentMeta.value = {
    title: 'Vue 3 + Quasar å¼€å‘å®æˆ˜æŒ‡å— - æŠ€æœ¯åšå®¢',
    description: 'æ·±å…¥å­¦ä¹  Vue 3 Composition API å’Œ Quasar Frameworkï¼Œä»å…¥é—¨åˆ°å®æˆ˜',
    keywords: 'Vue3,Quasar,å‰ç«¯å¼€å‘,æ•™ç¨‹,å®æˆ˜'
  }
  $q.notify('ğŸ“ åšå®¢æ–‡ç«  SEO å·²ä¼˜åŒ–')
}

function setUserCenterMeta() {
  currentMeta.value = {
    title: 'ä¸ªäººä¸­å¿ƒ - è®¾ç½®ä¸ç®¡ç†',
    description: 'ç®¡ç†æ‚¨çš„è´¦æˆ·ä¿¡æ¯ã€åå¥½è®¾ç½®å’Œéšç§é€‰é¡¹',
    keywords: 'ä¸ªäººä¸­å¿ƒ,è´¦æˆ·è®¾ç½®,ç”¨æˆ·ç®¡ç†'
  }
  $q.notify('ğŸ‘¤ ç”¨æˆ·ä¸­å¿ƒ SEO å·²ä¼˜åŒ–')
}

function testNotifications(type) {
  const messages = {
    success: { message: 'âœ… æ“ä½œæˆåŠŸï¼', color: 'positive' },
    error: { message: 'âŒ æ“ä½œå¤±è´¥ï¼', color: 'negative' },
    warning: { message: 'âš ï¸ è¯·æ³¨æ„æ£€æŸ¥ï¼', color: 'warning', textColor: 'dark' }
  }

  $q.notify(messages[type])
}

function onSubmit() {
  $q.notify({
    message: 'ğŸ“ è¡¨å•æäº¤æˆåŠŸï¼',
    color: 'positive'
  })
}
</script>

<style scoped>
.code-block {
  background: #f5f5f5;
  padding: 16px;
  border-radius: 8px;
  font-family: 'Courier New', monospace;
  font-size: 13px;
  line-height: 1.8;
  color: #333;
  border-left: 4px solid var(--q-primary);
}

.code-example {
  background: #f8f9fa;
  border-radius: 8px;
  padding: 16px;
}
</style>
