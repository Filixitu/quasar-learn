<template>
    <div class="q-gutter-md">
        <div class="text-h6">Quasar Â∑•ÂÖ∑ÂáΩÊï∞ËØ¶Ëß£</div>

        <!-- Êó∂Èó¥Â∑•ÂÖ∑ -->
        <q-card>
            <q-card-section>
                <div class="text-h6 text-primary">‚è∞ Êó∂Èó¥Â∑•ÂÖ∑ (date)</div>
                <div class="text-subtitle2 text-grey-7">Â§ÑÁêÜÊó•ÊúüÊó∂Èó¥ÁöÑÂÆûÁî®ÂáΩÊï∞</div>
            </q-card-section>

            <q-expansion-item label="ÂäüËÉΩÊºîÁ§∫" icon="schedule" default-opened>
                <q-card>
                    <q-card-section class="q-gutter-md">
                        <div>
                            <div class="text-subtitle1 q-mb-sm">üìÖ formatDate - Ê†ºÂºèÂåñÊó•Êúü</div>
                            <q-list dense bordered class="rounded-borders">
                                <q-item>
                                    <q-item-section>ÂΩìÂâçÊó∂Èó¥</q-item-section>
                                    <q-item-section side>{{ formatDate(now, 'YYYY-MM-DD HH:mm:ss') }}</q-item-section>
                                </q-item>
                                <q-item>
                                    <q-item-section>Êó•ÊúüÊ†ºÂºè</q-item-section>
                                    <q-item-section side>{{ formatDate(now, 'YYYYÂπ¥MMÊúàDDÊó•') }}</q-item-section>
                                </q-item>
                                <q-item>
                                    <q-item-section>Êó∂Èó¥Ê†ºÂºè</q-item-section>
                                    <q-item-section side>{{ formatDate(now, 'HH:mm:ss') }}</q-item-section>
                                </q-item>
                                <q-item>
                                    <q-item-section>Áõ∏ÂØπÊó∂Èó¥</q-item-section>
                                    <q-item-section side>{{ getDateDiff(now, pastTime) }} Â§©Ââç</q-item-section>
                                </q-item>
                            </q-list>
                        </div>

                        <div>
                            <div class="text-subtitle1 q-mb-sm">üîß Êó•ÊúüËÆ°ÁÆó</div>
                            <div class="q-gutter-sm">
                                <q-btn color="primary" label="Ëé∑ÂèñÊòéÂ§©" @click="showTomorrow" />
                                <q-btn color="secondary" label="Ëé∑Âèñ‰∏ãÂë®" @click="showNextWeek" />
                                <q-btn color="positive" label="Ëé∑ÂèñÊúàÂàù" @click="showMonthStart" />
                                <q-btn color="orange" label="Ëé∑ÂèñÂπ¥Êú´" @click="showYearEnd" />
                            </div>
                            <div class="q-mt-md text-body2">
                                ËÆ°ÁÆóÁªìÊûúÔºö{{ calculatedDate }}
                            </div>
                        </div>

                        <div>
                            <div class="text-subtitle1 q-mb-sm">üìä ÂÆûÈôÖÂ∫îÁî®Âú∫ÊôØ</div>
                            <q-list>
                                <q-item>
                                    <q-item-section avatar>
                                        <q-icon name="event" color="primary" />
                                    </q-item-section>
                                    <q-item-section>
                                        <q-item-label>‰ªªÂä°Êà™Ê≠¢Êó∂Èó¥</q-item-label>
                                        <q-item-label caption>
                                            ÂàõÂª∫Êó∂Èó¥Ôºö{{ formatDate(taskDate, 'YYYY-MM-DD') }} |
                                            Ââ©‰ΩôÔºö{{ getDateDiff(taskDeadline, now) }} Â§©
                                        </q-item-label>
                                    </q-item-section>
                                    <q-item-section side>
                                        <q-badge :color="getDateDiff(taskDeadline, now) < 3 ? 'negative' : 'positive'">
                                            {{ getDateDiff(taskDeadline, now) < 0 ? 'Â∑≤ÈÄæÊúü' : 'ËøõË°å‰∏≠' }} </q-badge>
                                    </q-item-section>
                                </q-item>
                            </q-list>
                        </div>
                    </q-card-section>
                </q-card>
            </q-expansion-item>

            <!-- ‰ª£Á†ÅÁ§∫‰æã -->
            <q-expansion-item label="üíª ‰ª£Á†ÅÁ§∫‰æã" icon="code">
                <q-card flat bordered>
                    <q-card-section>
                        <div class="text-subtitle2 q-mb-sm">Êó∂Èó¥Â∑•ÂÖ∑‰ΩøÁî®Á§∫‰æãÔºö</div>
                        <div class="code-block">{{ dateCodeExample }}</div>
                    </q-card-section>
                </q-card>
            </q-expansion-item>
        </q-card>

        <q-separator />

        <!-- È¢úËâ≤Â∑•ÂÖ∑ -->
        <q-card>
            <q-card-section>
                <div class="text-h6 text-secondary">üé® È¢úËâ≤Â∑•ÂÖ∑</div>
                <div class="text-subtitle2 text-grey-7">È¢úËâ≤ËΩ¨Êç¢ÂíåÂ§ÑÁêÜÂáΩÊï∞</div>
            </q-card-section>

            <q-expansion-item label="ÂäüËÉΩÊºîÁ§∫" icon="palette">
                <q-card>
                    <q-card-section class="q-gutter-md">
                        <div>
                            <div class="text-subtitle1 q-mb-sm">üåà È¢úËâ≤ÈÄâÊã©ÂíåÈ¢ÑËßà</div>
                            <div class="row q-col-gutter-md">
                                <div class="col-12 col-sm-6">
                                    <q-color v-model="themeColor" />
                                </div>
                                <div class="col-12 col-sm-6">
                                    <div class="text-body2 q-mb-sm">ÂΩìÂâçÈ¢úËâ≤‰ø°ÊÅØÔºö</div>
                                    <q-list dense>
                                        <q-item>
                                            <q-item-section>HEX ÂÄº</q-item-section>
                                            <q-item-section side>{{ themeColor }}</q-item-section>
                                        </q-item>
                                        <q-item>
                                            <q-item-section>RGB ÂÄº</q-item-section>
                                            <q-item-section side>{{ convertedRgb }}</q-item-section>
                                        </q-item>
                                    </q-list>

                                    <div class="text-body2 q-mt-md q-mb-sm">ÁîüÊàêÁöÑË∞ÉËâ≤ÊùøÔºö</div>
                                    <div class="q-gutter-xs">
                                        <q-chip v-for="(color, index) in themePalette" :key="index"
                                            :style="{ backgroundColor: color, color: '#white' }">
                                            {{ ['‰∏ªËâ≤', 'ÊµÖËâ≤', 'Ê∑±Ëâ≤', 'Âº∫Ë∞ÉËâ≤'][index] }}
                                        </q-chip>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div>
                            <div class="text-subtitle1 q-mb-sm">üéØ ÂÆûÈôÖÂ∫îÁî®ÔºöÂä®ÊÄÅ‰∏ªÈ¢ò</div>
                            <q-card flat bordered :style="{ borderColor: themeColor }">
                                <q-card-section :style="{ backgroundColor: themeColor + '10' }">
                                    <div class="row items-center">
                                        <q-avatar :color="themeColor" text-color="white" icon="palette" />
                                        <div class="q-ml-md">
                                            <div class="text-h6" :style="{ color: themeColor }">Ëá™ÂÆö‰πâ‰∏ªÈ¢ò</div>
                                            <div class="text-caption">‰∏ªÈ¢òËâ≤‰ºöÂΩ±ÂìçÊï¥‰∏™Âç°ÁâáÊ†∑Âºè</div>
                                        </div>
                                    </div>
                                </q-card-section>
                            </q-card>
                        </div>
                    </q-card-section>
                </q-card>
            </q-expansion-item>
        </q-card>

        <q-separator />

        <!-- Ê†ºÂºèÂåñÂ∑•ÂÖ∑ -->
        <q-card>
            <q-card-section>
                <div class="text-h6 text-orange">üìù Ê†ºÂºèÂåñÂ∑•ÂÖ∑</div>
                <div class="text-subtitle2 text-grey-7">Êï∞Â≠ó„ÄÅÊñáÊú¨„ÄÅÊñá‰ª∂Â§ßÂ∞èÁ≠âÊ†ºÂºèÂåñ</div>
            </q-card-section>

            <q-expansion-item label="ÂäüËÉΩÊºîÁ§∫" icon="text_format">
                <q-card>
                    <q-card-section class="q-gutter-md">
                        <div>
                            <div class="text-subtitle1 q-mb-sm">üí∞ Êï∞Â≠óÊ†ºÂºèÂåñ</div>
                            <q-list dense bordered class="rounded-borders">
                                <q-item>
                                    <q-item-section>ÂéüÂßãÊï∞Â≠ó</q-item-section>
                                    <q-item-section side>{{ originalNumber }}</q-item-section>
                                </q-item>
                                <q-item>
                                    <q-item-section>ÂçÉÂàÜ‰ΩçÊ†ºÂºè</q-item-section>
                                    <q-item-section side>{{ formatNumber(originalNumber) }}</q-item-section>
                                </q-item>
                                <q-item>
                                    <q-item-section>Ë¥ßÂ∏ÅÊ†ºÂºè</q-item-section>
                                    <q-item-section side>¬•{{ formatNumber(originalNumber, 2) }}</q-item-section>
                                </q-item>
                                <q-item>
                                    <q-item-section>ÁôæÂàÜÊØî</q-item-section>
                                    <q-item-section side>{{ ((originalNumber / 10000) * 100).toFixed(1)
                                    }}%</q-item-section>
                                </q-item>
                            </q-list>
                        </div>

                        <div>
                            <div class="text-subtitle1 q-mb-sm">üì¶ Êñá‰ª∂Â§ßÂ∞èÊ†ºÂºèÂåñ</div>
                            <q-list dense bordered class="rounded-borders">
                                <q-item v-for="fileSize in fileSizes" :key="fileSize.bytes">
                                    <q-item-section>{{ fileSize.name }}</q-item-section>
                                    <q-item-section side>{{ humanStorageSize(fileSize.bytes) }}</q-item-section>
                                </q-item>
                            </q-list>
                        </div>

                        <div>
                            <div class="text-subtitle1 q-mb-sm">üî° ÊñáÊú¨Â§ÑÁêÜ</div>
                            <div class="row q-col-gutter-md">
                                <div class="col-12 col-sm-6">
                                    <q-input v-model="textInput" label="ËæìÂÖ•ÊñáÊú¨" outlined type="textarea" rows="3" />
                                </div>
                                <div class="col-12 col-sm-6">
                                    <q-list dense>
                                        <q-item>
                                            <q-item-section>Â≠óÁ¨¶Êï∞</q-item-section>
                                            <q-item-section side>{{ textInput.length }}</q-item-section>
                                        </q-item>
                                        <q-item>
                                            <q-item-section>ÂçïËØçÊï∞</q-item-section>
                                            <q-item-section side>{{ countWords(textInput) }}</q-item-section>
                                        </q-item>
                                        <q-item>
                                            <q-item-section>È¶ñÂ≠óÊØçÂ§ßÂÜô</q-item-section>
                                            <q-item-section side>{{ capitalize(textInput) }}</q-item-section>
                                        </q-item>
                                        <q-item>
                                            <q-item-section>Êà™ÂèñÈ¢ÑËßà</q-item-section>
                                            <q-item-section side>{{ truncate(textInput, 20) }}</q-item-section>
                                        </q-item>
                                    </q-list>
                                </div>
                            </div>
                        </div>
                    </q-card-section>
                </q-card>
            </q-expansion-item>
        </q-card>

        <q-separator />

        <!-- DOM Â∑•ÂÖ∑ÂíåÂèòÂΩ¢Â∑•ÂÖ∑ -->
        <q-card>
            <q-card-section>
                <div class="text-h6 text-info">üèóÔ∏è DOM Êìç‰ΩúÂíåÂèòÂΩ¢Â∑•ÂÖ∑</div>
                <div class="text-subtitle2 text-grey-7">DOM ÂÖÉÁ¥†Êìç‰Ωú„ÄÅÂä®ÁîªÂèòÂΩ¢„ÄÅ‰ΩçÁΩÆËÆ°ÁÆóÁ≠âÈ´òÁ∫ßÂ∑•ÂÖ∑</div>
            </q-card-section>

            <q-expansion-item label="üéØ DOM ÂÖÉÁ¥†Êìç‰Ωú" icon="web" default-opened>
                <q-card>
                    <q-card-section class="q-gutter-md">
                        <!-- ÂÖÉÁ¥†‰ø°ÊÅØËé∑Âèñ -->
                        <div>
                            <div class="text-subtitle1 q-mb-sm">üìê ÂÖÉÁ¥†‰ø°ÊÅØËé∑Âèñ</div>
                            <div ref="domTestElement"
                                class="dom-test-element bg-primary text-white q-pa-md rounded-borders cursor-pointer"
                                @mouseover="updateElementInfo" @click="highlightElement">
                                üéØ ÊµãËØïÂÖÉÁ¥† - ÁÇπÂáªÈ´ò‰∫ÆÔºåÈº†Ê†áÊÇ¨ÂÅúËé∑Âèñ‰ø°ÊÅØ
                                <q-tooltip>
                                    <div>
                                        ÂÆΩÂ∫¶: {{ elementInfo.width }}px<br>
                                        È´òÂ∫¶: {{ elementInfo.height }}px<br>
                                        Ë∑ùÈ°∂ÈÉ®: {{ elementInfo.top }}px<br>
                                        Ë∑ùÂ∑¶‰æß: {{ elementInfo.left }}px<br>
                                        Âú®ËßÜÂè£‰∏≠: {{ elementInfo.inViewport ? 'ÊòØ' : 'Âê¶' }}
                                    </div>
                                </q-tooltip>
                            </div>

                            <div class="q-mt-md">
                                <q-list dense bordered class="rounded-borders">
                                    <q-item>
                                        <q-item-section>ÂÖÉÁ¥†ÂÆΩÂ∫¶</q-item-section>
                                        <q-item-section side>{{ elementInfo.width }}px</q-item-section>
                                    </q-item>
                                    <q-item>
                                        <q-item-section>ÂÖÉÁ¥†È´òÂ∫¶</q-item-section>
                                        <q-item-section side>{{ elementInfo.height }}px</q-item-section>
                                    </q-item>
                                    <q-item>
                                        <q-item-section>Ë∑ùÁ¶ªÈ°∂ÈÉ®</q-item-section>
                                        <q-item-section side>{{ elementInfo.top }}px</q-item-section>
                                    </q-item>
                                    <q-item>
                                        <q-item-section>Ë∑ùÁ¶ªÂ∑¶‰æß</q-item-section>
                                        <q-item-section side>{{ elementInfo.left }}px</q-item-section>
                                    </q-item>
                                    <q-item>
                                        <q-item-section>Âú®ËßÜÂè£‰∏≠</q-item-section>
                                        <q-item-section side>
                                            <q-badge :color="elementInfo.inViewport ? 'positive' : 'grey'">
                                                {{ elementInfo.inViewport ? 'ÊòØ' : 'Âê¶' }}
                                            </q-badge>
                                        </q-item-section>
                                    </q-item>
                                </q-list>
                            </div>
                        </div>

                        <q-separator />

                        <!-- Ê†∑ÂºèÂä®ÊÄÅ‰øÆÊîπ -->
                        <div>
                            <div class="text-subtitle1 q-mb-sm">üé® Ê†∑ÂºèÂä®ÊÄÅ‰øÆÊîπ</div>
                            <div class="row q-col-gutter-md">
                                <div class="col-12 col-sm-6">
                                    <div ref="styleTestElement"
                                        class="style-test-element q-pa-md rounded-borders transition-all">
                                        Ê†∑ÂºèÊµãËØïÂÖÉÁ¥†
                                    </div>
                                    <div class="q-gutter-sm q-mt-md">
                                        <q-btn size="sm" color="primary" label="ÂèòÂ§ß" @click="scaleElement(1.2)" />
                                        <q-btn size="sm" color="secondary" label="ÂèòÂ∞è" @click="scaleElement(0.8)" />
                                        <q-btn size="sm" color="positive" label="ÊóãËΩ¨" @click="rotateElement" />
                                        <q-btn size="sm" color="orange" label="ÁßªÂä®" @click="translateElement" />
                                        <q-btn size="sm" color="grey" label="ÈáçÁΩÆ" @click="resetElement" />
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6">
                                    <div class="text-body2 q-mb-sm">Ê†∑ÂºèÊéßÂà∂Èù¢ÊùøÔºö</div>
                                    <div class="q-gutter-md">
                                        <q-slider v-model="styleControls.scale" :min="0.5" :max="2" :step="0.1" label
                                            @update:model-value="applyTransforms">
                                            <template v-slot:label>
                                                Áº©Êîæ: {{ styleControls.scale }}
                                            </template>
                                        </q-slider>

                                        <q-slider v-model="styleControls.rotation" :min="0" :max="360" :step="15" label
                                            @update:model-value="applyTransforms">
                                            <template v-slot:label>
                                                ÊóãËΩ¨: {{ styleControls.rotation }}¬∞
                                            </template>
                                        </q-slider>

                                        <q-slider v-model="styleControls.opacity" :min="0" :max="1" :step="0.1" label
                                            @update:model-value="applyTransforms">
                                            <template v-slot:label>
                                                ÈÄèÊòéÂ∫¶: {{ styleControls.opacity }}
                                            </template>
                                        </q-slider>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <q-separator />

                        <!-- Âä®ÁîªÊïàÊûúÊºîÁ§∫ -->
                        <div>
                            <div class="text-subtitle1 q-mb-sm">‚ú® DOM Âä®ÁîªÊïàÊûú</div>
                            <div class="row q-col-gutter-md">
                                <div class="col-12 col-sm-8">
                                    <div class="animation-playground bg-grey-1 q-pa-lg rounded-borders"
                                        style="min-height: 200px; position: relative;">
                                        <div ref="animationElement"
                                            class="animation-target bg-secondary text-white q-pa-sm rounded-borders"
                                            style="width: 80px; height: 80px; display: flex; align-items: center; justify-content: center; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);">
                                            Âä®ÁîªÂÖÉÁ¥†
                                        </div>
                                    </div>
                                    <div class="q-mt-md text-center">
                                        <div class="q-gutter-sm">
                                            <q-btn size="sm" color="primary" label="Ê∑°ÂÖ•" @click="animateFadeIn" />
                                            <q-btn size="sm" color="secondary" label="Áº©Êîæ" @click="animateScale" />
                                            <q-btn size="sm" color="positive" label="ÊªëÂä®" @click="animateSlide" />
                                            <q-btn size="sm" color="orange" label="ÊóãËΩ¨" @click="animateRotate" />
                                            <q-btn size="sm" color="purple" label="ÂºπË∑≥" @click="animateBounce" />
                                            <q-btn size="sm" color="red" label="ÊëáÊëÜ" @click="animateShake" />
                                            <q-btn size="sm" color="grey" label="ÈáçÁΩÆ" @click="resetAnimation" />
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-4">
                                    <div class="text-body2 q-mb-sm">Âä®ÁîªÂèÇÊï∞ÊéßÂà∂Ôºö</div>
                                    <q-list dense>
                                        <q-item>
                                            <q-item-section>Âä®ÁîªÊó∂Èïø</q-item-section>
                                            <q-item-section side>
                                                <q-slider v-model="animationDuration" :min="200" :max="2000" :step="100"
                                                    style="width: 100px" dense />
                                            </q-item-section>
                                        </q-item>
                                        <q-item>
                                            <q-item-section>ÁºìÂä®ÂáΩÊï∞</q-item-section>
                                            <q-item-section side style="width: 120px">
                                                <q-select v-model="easingFunction" :options="easingOptions" dense
                                                    outlined />
                                            </q-item-section>
                                        </q-item>
                                    </q-list>
                                </div>
                            </div>
                        </div>

                        <q-separator />

                        <!-- ÂÖÉÁ¥†ÂèØËßÅÊÄßÊ£ÄÊµã -->
                        <div>
                            <div class="text-subtitle1 q-mb-sm">üëÅÔ∏è ÂÖÉÁ¥†ÂèØËßÅÊÄßÊ£ÄÊµã</div>
                            <div class="visibility-test-area"
                                style="height: 300px; overflow-y: auto; border: 2px dashed #ccc; border-radius: 8px;">
                                <div class="q-pa-md">
                                    <div v-for="i in 20" :key="i" :ref="el => visibilityElements[i] = el"
                                        class="visibility-item q-ma-md q-pa-md rounded-borders" :class="{
                                            'bg-positive text-white': visibleElements.includes(i),
                                            'bg-grey-3': !visibleElements.includes(i)
                                        }">
                                        ÂÖÉÁ¥† {{ i }} - {{ visibleElements.includes(i) ? '‚úÖ ÂèØËßÅ' : '‚ùå ‰∏çÂèØËßÅ' }}
                                    </div>
                                </div>
                            </div>
                            <div class="q-mt-sm text-caption">
                                ÊªöÂä®Êü•ÁúãÂèØËßÅÊÄßÊ£ÄÊµãÊïàÊûú - ÁªøËâ≤Ë°®Á§∫Âú®ËßÜÂè£‰∏≠ÂèØËßÅ
                            </div>
                        </div>

                        <q-separator />

                        <!-- ÂÖÉÁ¥†‰ΩçÁΩÆÂíåÊªöÂä®ÊéßÂà∂ -->
                        <div>
                            <div class="text-subtitle1 q-mb-sm">üìç ‰ΩçÁΩÆÊéßÂà∂ÂíåÊªöÂä®</div>
                            <div class="row q-col-gutter-md">
                                <div class="col-12 col-sm-6">
                                    <div class="scroll-control-demo bg-grey-1 q-pa-md"
                                        style="height: 250px; overflow: auto;" ref="scrollDemo"
                                        @scroll="updateScrollDemoInfo">
                                        <div ref="scrollTarget1"
                                            class="scroll-target bg-red-1 q-pa-md q-mb-md rounded-borders">
                                            üéØ ÊªöÂä®ÁõÆÊ†á 1
                                        </div>
                                        <div v-for="i in 15" :key="i" class="q-mb-md">
                                            <q-card flat bordered>
                                                <q-card-section class="q-py-sm">
                                                    ÂÜÖÂÆπÂå∫Âùó {{ i }}
                                                </q-card-section>
                                            </q-card>
                                        </div>
                                        <div ref="scrollTarget2"
                                            class="scroll-target bg-blue-1 q-pa-md q-mb-md rounded-borders">
                                            üéØ ÊªöÂä®ÁõÆÊ†á 2
                                        </div>
                                        <div v-for="i in 10" :key="`bottom-${i}`" class="q-mb-md">
                                            <q-card flat bordered>
                                                <q-card-section class="q-py-sm">
                                                    Â∫ïÈÉ®ÂÜÖÂÆπ {{ i }}
                                                </q-card-section>
                                            </q-card>
                                        </div>
                                        <div ref="scrollTarget3"
                                            class="scroll-target bg-green-1 q-pa-md rounded-borders">
                                            üéØ ÊªöÂä®ÁõÆÊ†á 3 (Â∫ïÈÉ®)
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6">
                                    <div class="text-body2 q-mb-sm">ÊªöÂä®ÊéßÂà∂Ôºö</div>
                                    <div class="q-gutter-sm q-mb-md">
                                        <q-btn size="sm" color="red" label="ÊªöÂä®Âà∞ÁõÆÊ†á1" @click="scrollToTarget(1)" />
                                        <q-btn size="sm" color="blue" label="ÊªöÂä®Âà∞ÁõÆÊ†á2" @click="scrollToTarget(2)" />
                                        <q-btn size="sm" color="green" label="ÊªöÂä®Âà∞ÁõÆÊ†á3" @click="scrollToTarget(3)" />
                                    </div>

                                    <div class="text-body2 q-mb-sm">ÊªöÂä®‰ø°ÊÅØÔºö</div>
                                    <q-list dense>
                                        <q-item>
                                            <q-item-section>ÊªöÂä®‰ΩçÁΩÆ</q-item-section>
                                            <q-item-section side>{{ scrollDemoInfo.scrollTop }}px</q-item-section>
                                        </q-item>
                                        <q-item>
                                            <q-item-section>ÊªöÂä®ËøõÂ∫¶</q-item-section>
                                            <q-item-section side>{{ Math.round(scrollDemoInfo.progress * 100)
                                            }}%</q-item-section>
                                        </q-item>
                                        <q-item>
                                            <q-item-section>ÂèØÊªöÂä®È´òÂ∫¶</q-item-section>
                                            <q-item-section side>{{ scrollDemoInfo.scrollHeight }}px</q-item-section>
                                        </q-item>
                                    </q-list>
                                    <q-linear-progress :value="scrollDemoInfo.progress" color="primary"
                                        class="q-mt-sm" />
                                </div>
                            </div>
                        </div>

                        <q-separator />

                        <!-- CSS Á±ªÊìç‰Ωú -->
                        <div>
                            <div class="text-subtitle1 q-mb-sm">üé≠ CSS Á±ªÂä®ÊÄÅÊìç‰Ωú</div>
                            <div class="row q-col-gutter-md">
                                <div class="col-12 col-sm-6">
                                    <div ref="cssTestElement"
                                        class="css-test-element q-pa-lg rounded-borders text-center transition-all"
                                        :class="cssClasses">
                                        <div class="text-h6">CSS ÊµãËØïÂÖÉÁ¥†</div>
                                        <div class="text-caption">Âä®ÊÄÅÁ±ªÂêçÊéßÂà∂</div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6">
                                    <div class="q-gutter-sm">
                                        <div class="text-body2 q-mb-sm">Â∫îÁî®Ê†∑ÂºèÁ±ªÔºö</div>
                                        <q-checkbox v-model="cssClassFlags" val="shadow-10" label="Èò¥ÂΩ±ÊïàÊûú" />
                                        <q-checkbox v-model="cssClassFlags" val="bg-gradient" label="Ê∏êÂèòËÉåÊôØ" />
                                        <q-checkbox v-model="cssClassFlags" val="text-bold" label="Á≤ó‰ΩìÊñáÂ≠ó" />
                                        <q-checkbox v-model="cssClassFlags" val="border-primary" label="‰∏ªËâ≤ËæπÊ°Ü" />
                                        <q-checkbox v-model="cssClassFlags" val="elevated-hover" label="ÊÇ¨ÊµÆÊïàÊûú" />
                                    </div>

                                    <div class="q-mt-md">
                                        <q-btn size="sm" color="primary" label="Ê∑ªÂä†ÈöèÊú∫Á±ª" @click="addRandomClass" />
                                        <q-btn size="sm" color="negative" label="Ê∏ÖÈô§ÊâÄÊúâ" @click="clearAllClasses" />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <q-separator />

                        <!-- ÂÖÉÁ¥†ÂàõÂª∫ÂíåÊìç‰Ωú -->
                        <div>
                            <div class="text-subtitle1 q-mb-sm">üèóÔ∏è Âä®ÊÄÅÂÖÉÁ¥†ÂàõÂª∫</div>
                            <div class="row q-col-gutter-md">
                                <div class="col-12 col-sm-6">
                                    <div ref="dynamicContainer"
                                        class="dynamic-container bg-grey-1 q-pa-md rounded-borders"
                                        style="min-height: 200px;">
                                        <div class="text-center text-grey-7" v-if="dynamicElements.length === 0">
                                            ÊöÇÊó†Âä®ÊÄÅÂÖÉÁ¥†
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6">
                                    <div class="q-gutter-sm">
                                        <q-btn color="primary" label="ÂàõÂª∫ÊåâÈíÆ" @click="createButton" />
                                        <q-btn color="secondary" label="ÂàõÂª∫Âç°Áâá" @click="createCard" />
                                        <q-btn color="positive" label="ÂàõÂª∫ÂõæÊ†á" @click="createIcon" />
                                        <q-btn color="orange" label="ÂàõÂª∫ÊñáÊú¨" @click="createText" />
                                        <q-btn color="purple" label="ÂàõÂª∫ËæìÂÖ•Ê°Ü" @click="createInput" />
                                        <q-btn color="negative" label="Ê∏ÖÁ©∫ÊâÄÊúâ" @click="clearDynamicElements" />
                                    </div>

                                    <div class="q-mt-md text-caption">
                                        Â∑≤ÂàõÂª∫ÂÖÉÁ¥†: {{ dynamicElements.length }} ‰∏™
                                    </div>
                                </div>
                            </div>
                        </div>
                    </q-card-section>
                </q-card>
            </q-expansion-item>

            <q-expansion-item label="üé¨ È´òÁ∫ßÂä®ÁîªÂíåÂèòÂΩ¢" icon="animation">
                <q-card>
                    <q-card-section class="q-gutter-md">
                        <!-- ÂÖ≥ÈîÆÂ∏ßÂä®Áîª -->
                        <div>
                            <div class="text-subtitle1 q-mb-sm">üé≠ ÂÖ≥ÈîÆÂ∏ßÂä®ÁîªÊºîÁ§∫</div>
                            <div class="row q-col-gutter-md">
                                <div class="col-12 col-sm-6">
                                    <div class="keyframe-demo-area bg-grey-1 q-pa-lg rounded-borders"
                                        style="height: 200px; position: relative;">
                                        <div v-for="(ball, index) in animationBalls" :key="index" ref="ballElements"
                                            class="animation-ball" :class="ball.animationClass" :style="{
                                                backgroundColor: ball.color,
                                                left: ball.x + 'px',
                                                top: ball.y + 'px'
                                            }" @click="explodeBall(index)">
                                            {{ index + 1 }}
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6">
                                    <div class="q-gutter-sm">
                                        <q-btn color="primary" label="ÂàõÂª∫ÂºπÁêÉ" @click="createBall" />
                                        <q-btn color="secondary" label="ÂÖ®ÈÉ®ÊµÆÂä®" @click="floatAllBalls" />
                                        <q-btn color="positive" label="ÂÖ®ÈÉ®ÊóãËΩ¨" @click="rotateAllBalls" />
                                        <q-btn color="orange" label="ÈöèÊú∫ÁßªÂä®" @click="randomMoveBalls" />
                                        <q-btn color="purple" label="ÂΩ©ËôπÊïàÊûú" @click="rainbowEffect" />
                                        <q-btn color="negative" label="Ê∏ÖÁ©∫" @click="clearBalls" />
                                    </div>

                                    <div class="q-mt-md">
                                        <div class="text-body2 q-mb-sm">Âä®ÁîªÈÄâÈ°πÔºö</div>
                                        <q-option-group v-model="animationType" :options="[
                                            { label: 'ÂºπË∑≥', value: 'bounce' },
                                            { label: 'ËÑâÂÜ≤', value: 'pulse' },
                                            { label: 'ÊëáÊëÜ', value: 'swing' },
                                            { label: 'Èó™ÁÉÅ', value: 'flash' }
                                        ]" color="primary" inline />
                                    </div>
                                </div>
                            </div>
                        </div>

                        <q-separator />

                        <!-- ÊãñÊãΩÂíåËß¶Êë∏ -->
                        <div>
                            <div class="text-subtitle1 q-mb-sm">üëÜ ÊãñÊãΩÂíåËß¶Êë∏‰∫§‰∫í</div>
                            <div class="drag-demo-area bg-grey-1 q-pa-md rounded-borders"
                                style="height: 250px; position: relative;">
                                <div v-for="(item, index) in draggableItems" :key="index" class="draggable-item" :style="{
                                    left: item.x + 'px',
                                    top: item.y + 'px',
                                    backgroundColor: item.color,
                                    transform: `rotate(${item.rotation}deg)`
                                }" @mousedown="startDrag(index, $event)" @dblclick="rotateDraggable(index)">
                                    <div class="text-white text-center">
                                        <div class="text-weight-bold">{{ item.type }}</div>
                                        <div class="text-caption">{{ index + 1 }}</div>
                                    </div>
                                </div>

                                <div class="absolute-bottom-left q-pa-sm">
                                    <div class="text-caption text-grey-7">
                                        üí° ÊãñÊãΩÁßªÂä®ÔºåÂèåÂáªÊóãËΩ¨
                                    </div>
                                </div>
                            </div>

                            <div class="q-mt-md q-gutter-sm">
                                <q-btn color="primary" label="Ê∑ªÂä†ÊñπÂùó" @click="addDraggableItem('ÊñπÂùó')" />
                                <q-btn color="secondary" label="Ê∑ªÂä†ÂúÜÂΩ¢" @click="addDraggableItem('ÂúÜÂΩ¢')" />
                                <q-btn color="positive" label="ÂÖ®ÈÉ®Âõû‰∏≠ÂøÉ" @click="centerAllItems" />
                                <q-btn color="orange" label="ÈöèÊú∫Êï£Â∏É" @click="scatterItems" />
                                <q-btn color="negative" label="Ê∏ÖÁ©∫" @click="draggableItems = []" />
                            </div>
                        </div>
                    </q-card-section>
                </q-card>
            </q-expansion-item>

            <q-expansion-item label="‚öôÔ∏è ÂÆûÁî®Â∑•ÂÖ∑ÈõÜÂêà" icon="build">
                <q-card>
                    <q-card-section class="q-gutter-md">
                        <!-- Èò≤ÊäñÊºîÁ§∫ -->
                        <div>
                            <div class="text-subtitle1 q-mb-sm">‚è±Ô∏è debounce - Èò≤ÊäñÂäüËÉΩ</div>
                            <div class="row q-col-gutter-md">
                                <div class="col-12 col-sm-6">
                                    <q-input v-model="searchQuery" label="ÊêúÁ¥¢ÔºàÈò≤Êäñ 500msÔºâ" outlined
                                        @update:model-value="onSearchInput">
                                        <template v-slot:prepend>
                                            <q-icon name="search" />
                                        </template>
                                    </q-input>
                                    <div class="text-caption q-mt-sm">
                                        ËæìÂÖ•Ê¨°Êï∞: {{ inputCount }} | ÊêúÁ¥¢Ê¨°Êï∞: {{ searchCount }}
                                    </div>
                                </div>
                                <div class="col-12 col-sm-6">
                                    <q-list dense v-if="searchResults.length > 0">
                                        <q-item-label header>ÊêúÁ¥¢ÁªìÊûú</q-item-label>
                                        <q-item v-for="result in searchResults" :key="result">
                                            <q-item-section>{{ result }}</q-item-section>
                                        </q-item>
                                    </q-list>
                                </div>
                            </div>
                        </div>

                        <q-separator />

                        <!-- ÊªöÂä®Êìç‰Ωú -->
                        <div>
                            <div class="text-subtitle1 q-mb-sm">üìú ÊªöÂä®ÊéßÂà∂</div>
                            <div class="q-gutter-sm q-mb-md">
                                <q-btn color="primary" label="ÊªöÂä®Âà∞È°∂ÈÉ®" @click="scrollToTop" />
                                <q-btn color="secondary" label="ÊªöÂä®Âà∞Â∫ïÈÉ®" @click="scrollToBottom" />
                                <q-btn color="positive" label="Âπ≥ÊªëÊªöÂä®" @click="smoothScroll" />
                            </div>

                            <div class="scroll-demo bg-grey-2 q-pa-md" style="height: 200px; overflow-y: auto;"
                                @scroll="onScroll">
                                <div class="bg-primary text-white q-pa-md q-mb-md rounded-borders">
                                    ÊªöÂä®ÁõÆÊ†áÂå∫Âüü - È°∂ÈÉ®
                                </div>
                                <div v-for="i in 10" :key="i" class="q-mb-sm">
                                    <q-card flat bordered>
                                        <q-card-section class="text-center">
                                            ÂÜÖÂÆπÈ°π {{ i }}
                                        </q-card-section>
                                    </q-card>
                                </div>
                                <div class="bg-secondary text-white q-pa-md rounded-borders">
                                    ÊªöÂä®ÁõÆÊ†áÂå∫Âüü - Â∫ïÈÉ®
                                </div>
                            </div>

                            <div class="q-mt-sm">
                                <div class="text-caption">ÊªöÂä®ËøõÂ∫¶: {{ Math.round(scrollProgress * 100) }}%</div>
                                <q-linear-progress :value="scrollProgress" color="primary" />
                            </div>
                        </div>

                        <q-separator />

                        <!-- Êñá‰ª∂Â§ßÂ∞èÊ†ºÂºèÂåñ -->
                        <div>
                            <div class="text-subtitle1 q-mb-sm">üì¶ Êñá‰ª∂Â§ßÂ∞èÊ†ºÂºèÂåñ</div>
                            <q-list dense bordered class="rounded-borders">
                                <q-item v-for="fileSize in fileSizes" :key="fileSize.bytes">
                                    <q-item-section>{{ fileSize.name }}</q-item-section>
                                    <q-item-section side>{{ humanStorageSize(fileSize.bytes) }}</q-item-section>
                                </q-item>
                            </q-list>
                        </div>

                        <q-separator />

                        <!-- UID ÁîüÊàê -->
                        <div>
                            <div class="text-subtitle1 q-mb-sm">üÜî ÂîØ‰∏Ä ID ÁîüÊàê</div>
                            <div class="q-gutter-sm q-mb-md">
                                <q-btn color="primary" label="ÁîüÊàêÂçï‰∏™ ID" @click="generateSingleId" />
                                <q-btn color="secondary" label="ÁîüÊàê 5 ‰∏™ ID" @click="generateMultipleIds" />
                                <q-btn flat label="Ê∏ÖÁ©∫" @click="generatedIds = []" />
                            </div>

                            <q-list v-if="generatedIds.length > 0" class="q-mt-md"
                                style="max-height: 200px; overflow-y: auto;">
                                <q-item-label header>ÁîüÊàêÁöÑ ID ÂàóË°®</q-item-label>
                                <q-item v-for="id in generatedIds" :key="id">
                                    <q-item-section>
                                        <q-item-label class="text-mono">{{ id }}</q-item-label>
                                    </q-item-section>
                                    <q-item-section side>
                                        <q-btn flat dense icon="content_copy" @click="copyId(id)" size="sm" />
                                    </q-item-section>
                                </q-item>
                            </q-list>
                        </div>

                        <q-separator />

                        <!-- Ââ™Ë¥¥ÊùøÊìç‰Ωú -->
                        <div>
                            <div class="text-subtitle1 q-mb-sm">üìã Ââ™Ë¥¥ÊùøÊìç‰Ωú</div>
                            <div class="row q-col-gutter-sm">
                                <div class="col">
                                    <q-input v-model="copyText" label="Ë¶ÅÂ§çÂà∂ÁöÑÊñáÊú¨" outlined />
                                </div>
                                <div class="col-auto">
                                    <q-btn color="primary" icon="content_copy" label="Â§çÂà∂" @click="handleCopyText" />
                                </div>
                            </div>
                        </div>
                    </q-card-section>
                </q-card>
            </q-expansion-item>

            <!-- Â∑•ÂÖ∑ÂáΩÊï∞‰ª£Á†ÅÁ§∫‰æã -->
            <q-expansion-item label="üíª Â∑•ÂÖ∑ÂáΩÊï∞‰ª£Á†Å" icon="code">
                <q-card flat bordered>
                    <q-card-section>
                        <q-tabs v-model="utilsTab" align="left">
                            <q-tab name="debounce" label="Èò≤Êäñ" />
                            <q-tab name="scroll" label="ÊªöÂä®" />
                            <q-tab name="format" label="Ê†ºÂºèÂåñ" />
                        </q-tabs>

                        <q-separator />

                        <q-tab-panels v-model="utilsTab" animated>
                            <q-tab-panel name="debounce">
                                <div class="code-block">{{ debounceCodeExample }}</div>
                            </q-tab-panel>

                            <q-tab-panel name="scroll">
                                <div class="code-block">{{ scrollCodeExample }}</div>
                            </q-tab-panel>

                            <q-tab-panel name="format">
                                <div class="code-block">{{ formatCodeExample }}</div>
                            </q-tab-panel>
                        </q-tab-panels>
                    </q-card-section>
                </q-card>
            </q-expansion-item>
        </q-card>

        <q-separator />

        <!-- ÁªºÂêàÂÆûÊàòÁ§∫‰æã -->
        <q-card class="bg-gradient-to-r">
            <q-card-section>
                <div class="text-h6">üöÄ ÁªºÂêàÂÆûÊàòÔºöËÅäÂ§©Â∫îÁî®</div>
                <div class="text-subtitle2">ÁªìÂêàÂ§ö‰∏™Â∑•ÂÖ∑ÂáΩÊï∞ÁöÑÂÆåÊï¥Á§∫‰æã</div>
            </q-card-section>

            <q-expansion-item label="üí¨ ËÅäÂ§©ÊºîÁ§∫" icon="chat" default-opened>
                <q-card>
                    <q-card-section class="q-pa-none">
                        <div class="chat-demo">
                            <div class="chat-header bg-primary text-white q-pa-md">
                                <div class="row items-center justify-between">
                                    <div class="text-h6">ËÅäÂ§©ÊºîÁ§∫</div>
                                    <q-badge color="white" text-color="primary">{{ chatMessages.length }} Êù°Ê∂àÊÅØ</q-badge>
                                </div>
                            </div>

                            <div class="chat-messages q-pa-md" style="height: 300px; overflow-y: auto;"
                                ref="chatContainer">
                                <div v-for="message in chatMessages" :key="message.id" class="q-mb-md">
                                    <div :class="message.isMine ? 'row reverse' : 'row'">
                                        <q-chat-message :text="[message.text]" :sent="message.isMine"
                                            :stamp="formatDate(message.timestamp, 'HH:mm')"
                                            :bg-color="message.isMine ? 'primary' : 'grey-3'"
                                            :text-color="message.isMine ? 'white' : 'black'">
                                            <template v-slot:avatar>
                                                <q-avatar :color="message.isMine ? 'primary' : 'secondary'"
                                                    text-color="white">
                                                    {{ message.author[0] }}
                                                </q-avatar>
                                            </template>
                                        </q-chat-message>
                                    </div>
                                </div>
                            </div>

                            <div class="chat-input q-pa-md bg-grey-1">
                                <div class="row q-gutter-sm">
                                    <div class="col">
                                        <q-input v-model="newMessage" placeholder="ËæìÂÖ•Ê∂àÊÅØ... (ÊåâÂõûËΩ¶ÂèëÈÄÅ)" outlined dense
                                            @keyup.enter="sendMessage" />
                                    </div>
                                    <div class="col-auto">
                                        <q-btn color="primary" icon="send" @click="sendMessage"
                                            :disable="!newMessage.trim()" />
                                    </div>
                                </div>
                            </div>
                        </div>
                    </q-card-section>
                </q-card>
            </q-expansion-item>
        </q-card>

        <q-separator />

        <!-- Â≠¶‰π†ÊÄªÁªì -->
        <q-card class="bg-grey-1">
            <q-card-section>
                <div class="text-h6">üìã Â∑•ÂÖ∑ÂáΩÊï∞Â≠¶‰π†ÊÄªÁªì</div>
            </q-card-section>
            <q-card-section>
                <q-list>
                    <q-item>
                        <q-item-section avatar>
                            <q-avatar color="primary" text-color="white" icon="schedule" />
                        </q-item-section>
                        <q-item-section>
                            <q-item-label>Êó∂Èó¥Â∑•ÂÖ∑ - ÂøÖÂ§áÊäÄËÉΩ</q-item-label>
                            <q-item-label caption>formatDate, getDateDiff, addToDate Á≠â</q-item-label>
                        </q-item-section>
                    </q-item>
                    <q-item>
                        <q-item-section avatar>
                            <q-avatar color="secondary" text-color="white" icon="palette" />
                        </q-item-section>
                        <q-item-section>
                            <q-item-label>È¢úËâ≤Â∑•ÂÖ∑ - ‰∏ªÈ¢òÂºÄÂèë</q-item-label>
                            <q-item-label caption>È¢úËâ≤ËΩ¨Êç¢„ÄÅË∞ÉËâ≤ÊùøÁîüÊàê„ÄÅÂØπÊØîÂ∫¶ËÆ°ÁÆó</q-item-label>
                        </q-item-section>
                    </q-item>
                    <q-item>
                        <q-item-section avatar>
                            <q-avatar color="orange" text-color="white" icon="text_format" />
                        </q-item-section>
                        <q-item-section>
                            <q-item-label>Ê†ºÂºèÂåñÂ∑•ÂÖ∑ - Êï∞ÊçÆÂ±ïÁ§∫</q-item-label>
                            <q-item-label caption>Êï∞Â≠ó„ÄÅÊñá‰ª∂Â§ßÂ∞è„ÄÅÊñáÊú¨Ê†ºÂºèÂåñ</q-item-label>
                        </q-item-section>
                    </q-item>
                    <q-item>
                        <q-item-section avatar>
                            <q-avatar color="positive" text-color="white" icon="speed" />
                        </q-item-section>
                        <q-item-section>
                            <q-item-label>ÊÄßËÉΩÂ∑•ÂÖ∑ - ‰ºòÂåñÂøÖÂ§á</q-item-label>
                            <q-item-label caption>debounce Èò≤Êäñ„ÄÅthrottle ËäÇÊµÅ</q-item-label>
                        </q-item-section>
                    </q-item>
                </q-list>
            </q-card-section>
        </q-card>
    </div>
</template>

<script setup>
import { ref, computed, onMounted, onUnmounted, nextTick } from 'vue'
import { useQuasar, date, format, copyToClipboard, debounce, throttle, uid } from 'quasar'

const $q = useQuasar()

// Êó∂Èó¥Áõ∏ÂÖ≥
const now = ref(Date.now())
const pastTime = Date.now() - 7 * 24 * 60 * 60 * 1000 // 7Â§©Ââç
const calculatedDate = ref('')
const taskDate = Date.now() - 3 * 24 * 60 * 60 * 1000
const taskDeadline = Date.now() + 2 * 24 * 60 * 60 * 1000

// Êõ¥Êñ∞ÂΩìÂâçÊó∂Èó¥
setInterval(() => {
    now.value = Date.now()
}, 1000)

// È¢úËâ≤Áõ∏ÂÖ≥
const themeColor = ref('#1976d2')

const convertedRgb = computed(() => {
    return hexToRgb(themeColor.value)
})

const themePalette = computed(() => [
    themeColor.value,
    lightenColor(themeColor.value),
    darkenColor(themeColor.value),
    getContrastColor(themeColor.value)
])

// Ê†ºÂºèÂåñÁõ∏ÂÖ≥
const originalNumber = ref(1234567.89)
const textInput = ref('hello world from quasar framework')

const fileSizes = [
    { name: 'ÊñáÊ°£', bytes: 1024 },
    { name: 'ÂõæÁâá', bytes: 1024 * 1024 },
    { name: 'ËßÜÈ¢ë', bytes: 1024 * 1024 * 50 },
    { name: 'ËΩØ‰ª∂', bytes: 1024 * 1024 * 1024 }
]

// ÊêúÁ¥¢Áõ∏ÂÖ≥ÔºàÈò≤ÊäñÊºîÁ§∫Ôºâ
const searchQuery = ref('')
const inputCount = ref(0)
const searchCount = ref(0)
const searchResults = ref([])

// ÊªöÂä®Áõ∏ÂÖ≥
const scrollProgress = ref(0)

// DOM Êìç‰ΩúÁõ∏ÂÖ≥
const domTestElement = ref(null)
const styleTestElement = ref(null)
const animationElement = ref(null)
const scrollDemo = ref(null)
const scrollTarget1 = ref(null)
const scrollTarget2 = ref(null)
const scrollTarget3 = ref(null)
const dynamicContainer = ref(null)
const cssTestElement = ref(null)

// ÂÖÉÁ¥†‰ø°ÊÅØ
const elementInfo = ref({
    width: 0,
    height: 0,
    top: 0,
    left: 0,
    inViewport: false
})

// Ê†∑ÂºèÊéßÂà∂
const styleControls = ref({
    scale: 1,
    rotation: 0,
    opacity: 1
})

// CSS Á±ªÊéßÂà∂
const cssClassFlags = ref([])
const cssClasses = computed(() => cssClassFlags.value.join(' '))

// ÊªöÂä®‰ø°ÊÅØ
const scrollDemoInfo = ref({
    scrollTop: 0,
    progress: 0,
    scrollHeight: 0
})

// Âä®ÁîªÁõ∏ÂÖ≥
const animationDuration = ref(1000)
const easingFunction = ref('ease-in-out')
const easingOptions = ['linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out', 'cubic-bezier(0.25, 0.46, 0.45, 0.94)']
const animationType = ref('bounce')

// Âä®ÁîªÁêÉ
const animationBalls = ref([])
const ballElements = ref([])

// ÂèØËßÅÊÄßÊ£ÄÊµã
const visibilityElements = ref({})
const visibleElements = ref([])
const intersectionObserver = ref(null)

// ÊãñÊãΩÁõ∏ÂÖ≥
const draggableItems = ref([])
const dragState = ref({
    isDragging: false,
    dragIndex: -1,
    startX: 0,
    startY: 0,
    offsetX: 0,
    offsetY: 0
})

// Âä®ÊÄÅÂÖÉÁ¥†
const dynamicElements = ref([])

// ÂÖ∂‰ªñ
const copyText = ref('ËøôÊòØË¶ÅÂ§çÂà∂ÁöÑÊñáÊú¨ÂÜÖÂÆπ')
const generatedIds = ref([])
const utilsTab = ref('debounce')

// ËÅäÂ§©ÊºîÁ§∫
const chatMessages = ref([
    {
        id: uid(),
        text: 'Ê¨¢Ëøé‰ΩøÁî®Â∑•ÂÖ∑ÂáΩÊï∞ÊºîÁ§∫ÔºÅ',
        author: 'Á≥ªÁªü',
        isMine: false,
        timestamp: Date.now() - 60000
    }
])
const newMessage = ref('')
const chatContainer = ref(null)

// ‰ª£Á†ÅÁ§∫‰æã
const dateCodeExample = `import { date } from 'quasar'

// Ê†ºÂºèÂåñÊó•Êúü
const formatted = date.formatDate(Date.now(), 'YYYY-MM-DD')

// Êó•ÊúüÂ∑ÆÂÄº
const diff = date.getDateDiff(date2, date1, 'days')

// Êó•ÊúüËÆ°ÁÆó
const tomorrow = date.addToDate(new Date(), { days: 1 })
const monthStart = date.startOfDate(new Date(), 'month')`

const debounceCodeExample = `import { debounce } from 'quasar'

// ÊêúÁ¥¢Èò≤Êäñ
const debouncedSearch = debounce((query) => {
  // ÊâßË°åÊêúÁ¥¢
  searchAPI(query)
}, 500)

// Âú®ËæìÂÖ•Ê°Ü‰∏≠‰ΩøÁî®
<q-input @input="debouncedSearch" />`

const scrollCodeExample = `import { scroll } from 'quasar'

// ÊªöÂä®Âà∞È°∂ÈÉ®
scroll.setVerticalScrollPosition(window, 0, 300)

// Âä®ÁîªÊªöÂä®
scroll.animateScrollTo(500, 300)

// ÊªöÂä®Âà∞ÂÖÉÁ¥†
element.scrollIntoView({ behavior: 'smooth' })`

const formatCodeExample = `import { format } from 'quasar'

// Êñá‰ª∂Â§ßÂ∞è
format.humanStorageSize(1536) // "1.5 KB"

// Êï∞Â≠óÊ†ºÂºèÂåñ
number.toLocaleString('zh-CN', {
  minimumFractionDigits: 2
}) // "12,345.67"`

// Êó∂Èó¥Â∑•ÂÖ∑ÂáΩÊï∞
const { formatDate, getDateDiff, addToDate, startOfDate, endOfDate } = date

function showTomorrow() {
    calculatedDate.value = formatDate(addToDate(now.value, { days: 1 }), 'YYYY-MM-DD')
    $q.notify('ÊòéÂ§©Êó•ÊúüÔºö' + calculatedDate.value)
}

function showNextWeek() {
    calculatedDate.value = formatDate(addToDate(now.value, { days: 7 }), 'YYYY-MM-DD')
    $q.notify('‰∏ãÂë®‰ªäÂ§©Ôºö' + calculatedDate.value)
}

function showMonthStart() {
    calculatedDate.value = formatDate(startOfDate(now.value, 'month'), 'YYYY-MM-DD')
    $q.notify('Êú¨ÊúàÁ¨¨‰∏ÄÂ§©Ôºö' + calculatedDate.value)
}

function showYearEnd() {
    calculatedDate.value = formatDate(endOfDate(now.value, 'year'), 'YYYY-MM-DD')
    $q.notify('‰ªäÂπ¥ÊúÄÂêé‰∏ÄÂ§©Ôºö' + calculatedDate.value)
}

// È¢úËâ≤Â∑•ÂÖ∑ÂáΩÊï∞
function hexToRgb(hex) {
    const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex)
    return result ?
        `rgb(${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)})` :
        'invalid color'
}

function lightenColor(color) {
    // ÁÆÄÂåñÂÆûÁé∞ÔºåÂú®ÂÆûÈôÖÈ°πÁõÆ‰∏≠‰ΩøÁî® Quasar ÁöÑÈ¢úËâ≤Â∑•ÂÖ∑
    return color.replace('#', '#B')
}

function darkenColor(color) {
    return color.replace('#1', '#0')
}

function getContrastColor(color) {
    return color === '#1976d2' ? '#ffc107' : '#1976d2'
}

// Ê†ºÂºèÂåñÂ∑•ÂÖ∑ÂáΩÊï∞
const { humanStorageSize } = format

function formatNumber(num, decimals = 0) {
    return num.toLocaleString('zh-CN', {
        minimumFractionDigits: decimals,
        maximumFractionDigits: decimals
    })
}

function countWords(text) {
    return text.trim().split(/\s+/).filter(word => word.length > 0).length
}

function capitalize(text) {
    return text.charAt(0).toUpperCase() + text.slice(1).toLowerCase()
}

function truncate(text, length) {
    return text.length > length ? text.substring(0, length) + '...' : text
}

// ÊêúÁ¥¢Áõ∏ÂÖ≥ÔºàÈò≤ÊäñÔºâ
const debouncedSearch = debounce((query) => {
    searchCount.value++
    if (query.trim()) {
        searchResults.value = [
            `ÊêúÁ¥¢ÁªìÊûú1: ${query}`,
            `ÊêúÁ¥¢ÁªìÊûú2: ${query} Áõ∏ÂÖ≥`,
            `ÊêúÁ¥¢ÁªìÊûú3: ${query} ÂåπÈÖçÈ°π`
        ]
    } else {
        searchResults.value = []
    }
    $q.notify(`ÊêúÁ¥¢: ${query}`)
}, 500)

function onSearchInput(value) {
    inputCount.value++
    debouncedSearch(value)
}

// ÊªöÂä®Áõ∏ÂÖ≥
const throttledScrollHandler = throttle((event) => {
    const element = event.target
    const scrollTop = element.scrollTop
    const scrollHeight = element.scrollHeight
    const clientHeight = element.clientHeight
    scrollProgress.value = scrollTop / (scrollHeight - clientHeight)
}, 100)

function onScroll(event) {
    throttledScrollHandler(event)
}

function scrollToTop() {
    window.scrollTo({ top: 0, behavior: 'smooth' })
    $q.notify('Â∑≤ÊªöÂä®Âà∞È°∂ÈÉ®')
}

function scrollToBottom() {
    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' })
    $q.notify('Â∑≤ÊªöÂä®Âà∞Â∫ïÈÉ®')
}

function smoothScroll() {
    const middle = document.body.scrollHeight / 2
    window.scrollTo({ top: middle, behavior: 'smooth' })
    $q.notify('Â∑≤ÊªöÂä®Âà∞È°µÈù¢‰∏≠Èó¥')
}

// Ââ™Ë¥¥ÊùøÊìç‰Ωú
function handleCopyText() {
    copyToClipboard(copyText.value)
        .then(() => {
            $q.notify({
                message: '‚úÖ Â∑≤Â§çÂà∂Âà∞Ââ™Ë¥¥Êùø',
                color: 'positive'
            })
        })
        .catch(() => {
            $q.notify({
                message: '‚ùå Â§çÂà∂Â§±Ë¥•',
                color: 'negative'
            })
        })
}

// UID ÁîüÊàê
function generateSingleId() {
    generatedIds.value.push(uid())
    $q.notify('Â∑≤ÁîüÊàêÊñ∞ ID')
}

function generateMultipleIds() {
    for (let i = 0; i < 5; i++) {
        generatedIds.value.push(uid())
    }
    $q.notify('Â∑≤ÁîüÊàê 5 ‰∏™ ID')
}

function copyId(id) {
    copyToClipboard(id).then(() => {
        $q.notify('ID Â∑≤Â§çÂà∂')
    })
}

// ËÅäÂ§©ÂäüËÉΩ
function sendMessage() {
    if (newMessage.value.trim()) {
        const message = {
            id: uid(),
            text: newMessage.value,
            author: 'Êàë',
            isMine: true,
            timestamp: Date.now()
        }
        chatMessages.value.push(message)
        newMessage.value = ''

        // ÊªöÂä®Âà∞Â∫ïÈÉ®
        nextTick(() => {
            if (chatContainer.value) {
                chatContainer.value.scrollTop = chatContainer.value.scrollHeight
            }
        })

        // Ê®°ÊãüÁ≥ªÁªüÂõûÂ§ç
        setTimeout(() => {
            const replies = [
                'Êî∂Âà∞‰Ω†ÁöÑÊ∂àÊÅØÔºÅ',
                'Â∑•ÂÖ∑ÂáΩÊï∞ÂæàÊúâÁî®ÂêßÔºü',
                'ÁªßÁª≠Êé¢Á¥¢Êõ¥Â§öÂäüËÉΩÔºÅ',
                'Â≠¶‰ºö‰∫ÜËøô‰∫õÔºåÂºÄÂèëÊïàÁéáÁøªÂÄçÔºÅ'
            ]
            const reply = {
                id: uid(),
                text: replies[Math.floor(Math.random() * replies.length)],
                author: 'Âä©Êâã',
                isMine: false,
                timestamp: Date.now()
            }
            chatMessages.value.push(reply)

            nextTick(() => {
                if (chatContainer.value) {
                    chatContainer.value.scrollTop = chatContainer.value.scrollHeight
                }
            })
        }, 1000)
    }
}

// DOM Â∑•ÂÖ∑ÂáΩÊï∞

/**
 * üéØ Êõ¥Êñ∞ÂÖÉÁ¥†‰ø°ÊÅØ
 */
function updateElementInfo() {
    if (domTestElement.value) {
        const rect = domTestElement.value.getBoundingClientRect()
        elementInfo.value = {
            width: Math.round(rect.width),
            height: Math.round(rect.height),
            top: Math.round(rect.top + window.scrollY),
            left: Math.round(rect.left + window.scrollX),
            inViewport: rect.top >= 0 && rect.left >= 0 &&
                rect.bottom <= window.innerHeight &&
                rect.right <= window.innerWidth
        }
    }
}

/**
 * üéØ È´ò‰∫ÆÂÖÉÁ¥†
 */
function highlightElement() {
    if (domTestElement.value) {
        // Ê∑ªÂä†È´ò‰∫ÆÂä®Áîª
        domTestElement.value.style.boxShadow = '0 0 20px #ff9800'
        domTestElement.value.style.transform = 'scale(1.05)'

        setTimeout(() => {
            domTestElement.value.style.boxShadow = ''
            domTestElement.value.style.transform = ''
        }, 1000)

        $q.notify('ÂÖÉÁ¥†Â∑≤È´ò‰∫ÆÔºÅ')
    }
}

/**
 * üéØ Áº©ÊîæÂÖÉÁ¥†
 */
function scaleElement(scale) {
    styleControls.value.scale = scale
    applyTransforms()
}

/**
 * üéØ ÊóãËΩ¨ÂÖÉÁ¥†
 */
function rotateElement() {
    styleControls.value.rotation += 45
    if (styleControls.value.rotation >= 360) {
        styleControls.value.rotation = 0
    }
    applyTransforms()
}

/**
 * üéØ ÁßªÂä®ÂÖÉÁ¥†
 */
function translateElement() {
    if (styleTestElement.value) {
        const randomX = Math.random() * 100 - 50
        const randomY = Math.random() * 50 - 25
        styleTestElement.value.style.transform += ` translate(${randomX}px, ${randomY}px)`
    }
}

/**
 * üéØ ÈáçÁΩÆÂÖÉÁ¥†Ê†∑Âºè
 */
function resetElement() {
    styleControls.value = { scale: 1, rotation: 0, opacity: 1 }
    applyTransforms()
    if (styleTestElement.value) {
        styleTestElement.value.style.transform = ''
    }
}

/**
 * üéØ Â∫îÁî®ÂèòÂΩ¢ÊïàÊûú
 */
function applyTransforms() {
    if (styleTestElement.value) {
        const { scale, rotation, opacity } = styleControls.value
        styleTestElement.value.style.transform = `scale(${scale}) rotate(${rotation}deg)`
        styleTestElement.value.style.opacity = opacity.toString()
    }
}

/**
 * üéØ Ê∑ªÂä†ÈöèÊú∫CSSÁ±ª
 */
function addRandomClass() {
    const randomClasses = ['shadow-5', 'bg-orange', 'text-italic', 'rounded-borders', 'q-mt-md']
    const randomClass = randomClasses[Math.floor(Math.random() * randomClasses.length)]

    if (!cssClassFlags.value.includes(randomClass)) {
        cssClassFlags.value.push(randomClass)
        $q.notify(`Ê∑ªÂä†‰∫ÜÁ±ª: ${randomClass}`)
    }
}

/**
 * üéØ Ê∏ÖÈô§ÊâÄÊúâCSSÁ±ª
 */
function clearAllClasses() {
    cssClassFlags.value = []
    $q.notify('Â∑≤Ê∏ÖÈô§ÊâÄÊúâÊ†∑ÂºèÁ±ª')
}

/**
 * üéØ ÊªöÂä®Âà∞ÊåáÂÆöÁõÆÊ†á
 */
function scrollToTarget(targetNum) {
    const targets = [null, scrollTarget1.value, scrollTarget2.value, scrollTarget3.value]
    const target = targets[targetNum]

    if (target && scrollDemo.value) {
        const container = scrollDemo.value
        const targetTop = target.offsetTop - container.offsetTop - 50

        container.scrollTo({
            top: targetTop,
            behavior: 'smooth'
        })

        $q.notify(`ÊªöÂä®Âà∞ÁõÆÊ†á ${targetNum}`)
    }
}

/**
 * üéØ Êõ¥Êñ∞ÊªöÂä®‰ø°ÊÅØ
 */
function updateScrollDemoInfo(event) {
    const element = event.target
    scrollDemoInfo.value = {
        scrollTop: Math.round(element.scrollTop),
        progress: element.scrollTop / (element.scrollHeight - element.clientHeight),
        scrollHeight: element.scrollHeight
    }
}

/**
 * üéØ ÂàõÂª∫Âä®ÊÄÅÂÖÉÁ¥†
 */
function createButton() {
    createDynamicElement('button', 'Âä®ÊÄÅÊåâÈíÆ', 'btn btn-primary', () => {
        $q.notify('ÁÇπÂáª‰∫ÜÂä®ÊÄÅÊåâÈíÆÔºÅ')
    })
}

function createCard() {
    createDynamicElement('div', `Âç°Áâá ${dynamicElements.value.length + 1}`, 'q-card q-pa-md q-mb-md bg-white')
}

function createIcon() {
    createDynamicElement('i', 'star', 'material-icons text-orange', null, 'star')
}

function createText() {
    createDynamicElement('p', `Âä®ÊÄÅÊñáÊú¨ ${Date.now()}`, 'text-body1 q-mb-md')
}

function createInput() {
    createDynamicElement('input', '', 'q-input-target q-mb-md', null, null, {
        placeholder: 'Âä®ÊÄÅËæìÂÖ•Ê°Ü',
        style: 'padding: 8px; border: 1px solid #ccc; border-radius: 4px;'
    })
}

/**
 * üéØ ÈÄöÁî®Âä®ÊÄÅÂÖÉÁ¥†ÂàõÂª∫ÂáΩÊï∞
 */
function createDynamicElement(tag, content, className, clickHandler, iconName, attrs = {}) {
    if (dynamicContainer.value) {
        const element = document.createElement(tag)

        if (iconName) {
            element.textContent = iconName
        } else {
            element.textContent = content
        }

        element.className = className

        // ËÆæÁΩÆÂ±ûÊÄß
        Object.keys(attrs).forEach(key => {
            if (key === 'style') {
                element.style.cssText = attrs[key]
            } else {
                element.setAttribute(key, attrs[key])
            }
        })

        if (clickHandler) {
            element.addEventListener('click', clickHandler)
        }

        // Ê∑ªÂä†Âà†Èô§ÊåâÈíÆ
        if (tag !== 'input') {
            const deleteBtn = document.createElement('button')
            deleteBtn.innerHTML = '√ó'
            deleteBtn.style.cssText = 'position: absolute; top: -5px; right: -5px; background: red; color: white; border: none; border-radius: 50%; width: 20px; height: 20px; cursor: pointer; font-size: 12px;'
            deleteBtn.onclick = (e) => {
                e.stopPropagation()
                element.remove()
                const index = dynamicElements.value.indexOf(element)
                if (index > -1) dynamicElements.value.splice(index, 1)
            }
            element.style.position = 'relative'
            element.appendChild(deleteBtn)
        }

        dynamicContainer.value.appendChild(element)
        dynamicElements.value.push(element)

        $q.notify(`ÂàõÂª∫‰∫Ü ${tag} ÂÖÉÁ¥†`)
    }
}

/**
 * üéØ Ê∏ÖÁ©∫Âä®ÊÄÅÂÖÉÁ¥†
 */
function clearDynamicElements() {
    if (dynamicContainer.value) {
        dynamicContainer.value.innerHTML = '<div class="text-center text-grey-7">ÊöÇÊó†Âä®ÊÄÅÂÖÉÁ¥†</div>'
        dynamicElements.value = []
        $q.notify('Â∑≤Ê∏ÖÁ©∫ÊâÄÊúâÂä®ÊÄÅÂÖÉÁ¥†')
    }
}

/**
 * üéØ Âä®ÁîªÂáΩÊï∞
 */
function animateFadeIn() {
    if (animationElement.value) {
        animationElement.value.style.opacity = '0'
        animationElement.value.style.transition = `opacity ${animationDuration.value}ms ${easingFunction.value}`

        setTimeout(() => {
            animationElement.value.style.opacity = '1'
        }, 50)
    }
}

function animateScale() {
    if (animationElement.value) {
        animationElement.value.style.transition = `transform ${animationDuration.value}ms ${easingFunction.value}`
        animationElement.value.style.transform = 'translate(-50%, -50%) scale(1.5)'

        setTimeout(() => {
            animationElement.value.style.transform = 'translate(-50%, -50%) scale(1)'
        }, animationDuration.value)
    }
}

function animateSlide() {
    if (animationElement.value) {
        const directions = [
            'translate(-30%, -50%)',
            'translate(-70%, -50%)',
            'translate(-50%, -30%)',
            'translate(-50%, -70%)'
        ]
        const randomDir = directions[Math.floor(Math.random() * directions.length)]

        animationElement.value.style.transition = `transform ${animationDuration.value}ms ${easingFunction.value}`
        animationElement.value.style.transform = randomDir

        setTimeout(() => {
            animationElement.value.style.transform = 'translate(-50%, -50%)'
        }, animationDuration.value)
    }
}

function animateRotate() {
    if (animationElement.value) {
        animationElement.value.style.transition = `transform ${animationDuration.value}ms ${easingFunction.value}`
        animationElement.value.style.transform = 'translate(-50%, -50%) rotate(360deg)'

        setTimeout(() => {
            animationElement.value.style.transform = 'translate(-50%, -50%) rotate(0deg)'
        }, animationDuration.value)
    }
}

function animateBounce() {
    if (animationElement.value) {
        animationElement.value.style.animation = `bounce ${animationDuration.value}ms ${easingFunction.value}`

        setTimeout(() => {
            animationElement.value.style.animation = ''
        }, animationDuration.value)
    }
}

function animateShake() {
    if (animationElement.value) {
        animationElement.value.style.animation = `shake ${animationDuration.value}ms ${easingFunction.value}`

        setTimeout(() => {
            animationElement.value.style.animation = ''
        }, animationDuration.value)
    }
}

function resetAnimation() {
    if (animationElement.value) {
        animationElement.value.style.transition = ''
        animationElement.value.style.transform = 'translate(-50%, -50%)'
        animationElement.value.style.animation = ''
        animationElement.value.style.opacity = '1'
    }
}

/**
 * üéØ Âä®ÁîªÁêÉÁõ∏ÂÖ≥ÂáΩÊï∞
 */
function createBall() {
    const colors = ['#ff9800', '#2196f3', '#4caf50', '#f44336', '#9c27b0', '#ffeb3b']
    const ball = {
        x: Math.random() * 200 + 50,
        y: Math.random() * 100 + 50,
        color: colors[Math.floor(Math.random() * colors.length)],
        animationClass: ''
    }
    animationBalls.value.push(ball)
}

function floatAllBalls() {
    animationBalls.value.forEach((ball) => {
        ball.animationClass = 'ball-float'
        setTimeout(() => {
            ball.animationClass = ''
        }, 2000)
    })
}

function rotateAllBalls() {
    animationBalls.value.forEach(ball => {
        ball.animationClass = 'ball-rotate'
        setTimeout(() => {
            ball.animationClass = ''
        }, 2000)
    })
}

function randomMoveBalls() {
    animationBalls.value.forEach(ball => {
        ball.x = Math.random() * 250
        ball.y = Math.random() * 120
    })
}

function rainbowEffect() {
    const colors = ['#ff0000', '#ff7f00', '#ffff00', '#00ff00', '#0000ff', '#4b0082', '#9400d3']
    animationBalls.value.forEach((ball, index) => {
        ball.color = colors[index % colors.length]
        ball.animationClass = 'ball-pulse'
    })

    setTimeout(() => {
        animationBalls.value.forEach(ball => {
            ball.animationClass = ''
        })
    }, 3000)
}

function explodeBall(index) {
    const ball = animationBalls.value[index]
    ball.animationClass = 'ball-explode'

    setTimeout(() => {
        animationBalls.value.splice(index, 1)
    }, 500)
}

function clearBalls() {
    animationBalls.value = []
}

/**
 * üéØ ÊãñÊãΩÁõ∏ÂÖ≥ÂáΩÊï∞
 */
function addDraggableItem(type) {
    const colors = ['#ff5722', '#3f51b5', '#009688', '#ff9800', '#e91e63']
    const item = {
        type,
        x: Math.random() * 200 + 20,
        y: Math.random() * 150 + 20,
        color: colors[Math.floor(Math.random() * colors.length)],
        rotation: 0
    }
    draggableItems.value.push(item)
}

function startDrag(index, event) {
    dragState.value = {
        isDragging: true,
        dragIndex: index,
        startX: event.clientX,
        startY: event.clientY,
        offsetX: event.clientX - draggableItems.value[index].x,
        offsetY: event.clientY - draggableItems.value[index].y
    }

    document.addEventListener('mousemove', handleDrag)
    document.addEventListener('mouseup', endDrag)
    event.preventDefault()
}

function handleDrag(event) {
    if (dragState.value.isDragging) {
        const item = draggableItems.value[dragState.value.dragIndex]
        item.x = event.clientX - dragState.value.offsetX
        item.y = event.clientY - dragState.value.offsetY
    }
}

function endDrag() {
    dragState.value.isDragging = false
    document.removeEventListener('mousemove', handleDrag)
    document.removeEventListener('mouseup', endDrag)
}

function rotateDraggable(index) {
    draggableItems.value[index].rotation += 45
}

function centerAllItems() {
    draggableItems.value.forEach(item => {
        item.x = 100
        item.y = 75
        item.rotation = 0
    })
}

function scatterItems() {
    draggableItems.value.forEach(item => {
        item.x = Math.random() * 250
        item.y = Math.random() * 180
        item.rotation = Math.random() * 360
    })
}

/**
 * üéØ ÂèØËßÅÊÄßÊ£ÄÊµãËÆæÁΩÆ
 */
function setupIntersectionObserver() {
    if (intersectionObserver.value) {
        intersectionObserver.value.disconnect()
    }

    intersectionObserver.value = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            const index = parseInt(entry.target.textContent.match(/\d+/)?.[0])
            if (entry.isIntersecting) {
                if (!visibleElements.value.includes(index)) {
                    visibleElements.value.push(index)
                }
            } else {
                const idx = visibleElements.value.indexOf(index)
                if (idx > -1) {
                    visibleElements.value.splice(idx, 1)
                }
            }
        })
    }, {
        threshold: 0.5,
        rootMargin: '0px'
    })

    // ËßÇÂØüÊâÄÊúâÂèØËßÅÊÄßÊµãËØïÂÖÉÁ¥†
    Object.values(visibilityElements.value).forEach(el => {
        if (el) {
            intersectionObserver.value.observe(el)
        }
    })
}

// ÁîüÂëΩÂë®Êúü
onMounted(() => {
    // Âª∂ËøüÊâßË°å notifyÔºåÁ°Æ‰øùÊèí‰ª∂Â∑≤ÂàùÂßãÂåñ
    setTimeout(() => {
        $q.notify({
            message: 'üéâ Ê¨¢ËøéÂ≠¶‰π† Quasar DOM Â∑•ÂÖ∑ÂáΩÊï∞ÔºÅ',
            color: 'positive',
            position: 'top'
        })
    }, 500)

    // ÂàùÂßãÂåñÂÖÉÁ¥†‰ø°ÊÅØ
    updateElementInfo()

    // ËÆæÁΩÆÂèØËßÅÊÄßËßÇÂØüÂô®
    setTimeout(() => {
        setupIntersectionObserver()
    }, 1000)

    // ÁõëÂê¨Á™óÂè£Â§ßÂ∞èÂèòÂåñ
    window.addEventListener('resize', updateElementInfo)
    window.addEventListener('scroll', updateElementInfo)
})

onUnmounted(() => {
    // Ê∏ÖÁêÜ‰∫ã‰ª∂ÁõëÂê¨Âô®
    window.removeEventListener('resize', updateElementInfo)
    window.removeEventListener('scroll', updateElementInfo)
    document.removeEventListener('mousemove', handleDrag)
    document.removeEventListener('mouseup', endDrag)

    // Ê∏ÖÁêÜËßÇÂØüÂô®
    if (intersectionObserver.value) {
        intersectionObserver.value.disconnect()
    }
})
</script>

<style scoped>
.code-block {
    background: #f5f5f5;
    padding: 16px;
    border-radius: 8px;
    font-family: 'Courier New', monospace;
    font-size: 13px;
    line-height: 1.6;
    color: #333;
    white-space: pre-line;
    border-left: 4px solid var(--q-primary);
}

.chat-demo {
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    overflow: hidden;
}

.chat-messages {
    background: #fafafa;
}

.text-mono {
    font-family: 'Courier New', monospace;
    font-size: 12px;
}

.bg-gradient-to-r {
    background: linear-gradient(to right, rgba(25, 118, 210, 0.05), rgba(156, 39, 176, 0.05));
}

.scroll-demo {
    border: 2px dashed #ccc;
    border-radius: 8px;
}

/* DOM Â∑•ÂÖ∑Ê†∑Âºè */
.dom-test-element {
    transition: all 0.3s ease;
    min-height: 100px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.dom-test-element:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
}

.style-test-element {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    min-height: 100px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.transition-all {
    transition: all 0.3s ease;
}

/* CSS Á±ªÂä®ÊÄÅÊ†∑Âºè */
.css-test-element {
    background: #e3f2fd;
    color: #1976d2;
    min-height: 120px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.bg-gradient {
    background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1, #96ceb4) !important;
    color: white !important;
}

.text-bold {
    font-weight: bold !important;
}

.border-primary {
    border: 3px solid var(--q-primary) !important;
}

.elevated-hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
}

/* Âä®ÁîªÁêÉÊ†∑Âºè */
.animation-ball {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    position: absolute;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 14px;
}

.animation-ball:hover {
    transform: scale(1.1);
}

/* ÊãñÊãΩÂÖÉÁ¥†Ê†∑Âºè */
.draggable-item {
    width: 60px;
    height: 60px;
    position: absolute;
    border-radius: 8px;
    cursor: move;
    display: flex;
    align-items: center;
    justify-content: center;
    user-select: none;
    transition: transform 0.2s ease;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.draggable-item:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
}

.draggable-item:active {
    transform: scale(0.95);
    cursor: grabbing;
}

/* ÂèØËßÅÊÄßÊµãËØïÊ†∑Âºè */
.visibility-item {
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.visibility-item.bg-positive {
    border-color: #21ba45;
    box-shadow: 0 0 10px rgba(33, 186, 69, 0.3);
}

/* ÊªöÂä®ÁõÆÊ†áÊ†∑Âºè */
.scroll-target {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

.scroll-target:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    transform: translateY(-2px);
}

/* Âä®ÁîªÂÖ≥ÈîÆÂ∏ßÂÆö‰πâ */
@keyframes bounce {

    0%,
    20%,
    53%,
    80%,
    100% {
        animation-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
        transform: translate(-50%, -50%) translateZ(0);
    }

    40%,
    43% {
        animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);
        transform: translate(-50%, -50%) translate3d(0, -30px, 0);
    }

    70% {
        animation-timing-function: cubic-bezier(0.755, 0.050, 0.855, 0.060);
        transform: translate(-50%, -50%) translate3d(0, -15px, 0);
    }

    90% {
        transform: translate(-50%, -50%) translate3d(0, -4px, 0);
    }
}

@keyframes shake {

    10%,
    90% {
        transform: translate(-50%, -50%) translate3d(-1px, 0, 0);
    }

    20%,
    80% {
        transform: translate(-50%, -50%) translate3d(2px, 0, 0);
    }

    30%,
    50%,
    70% {
        transform: translate(-50%, -50%) translate3d(-4px, 0, 0);
    }

    40%,
    60% {
        transform: translate(-50%, -50%) translate3d(4px, 0, 0);
    }
}

/* ÁêÉÂä®Áîª */
.ball-float {
    animation: ballFloat 2s ease-in-out infinite;
}

.ball-rotate {
    animation: ballRotate 2s linear infinite;
}

.ball-pulse {
    animation: ballPulse 1s ease-in-out infinite;
}

.ball-explode {
    animation: ballExplode 0.5s ease-out forwards;
}

@keyframes ballFloat {

    0%,
    100% {
        transform: translateY(0px);
    }

    50% {
        transform: translateY(-20px);
    }
}

@keyframes ballRotate {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

@keyframes ballPulse {

    0%,
    100% {
        transform: scale(1);
    }

    50% {
        transform: scale(1.2);
    }
}

@keyframes ballExplode {
    0% {
        transform: scale(1);
        opacity: 1;
    }

    100% {
        transform: scale(2);
        opacity: 0;
    }
}

/* Âä®ÊÄÅÂÆπÂô®Ê†∑Âºè */
.dynamic-container {
    min-height: 200px;
    position: relative;
}

.dynamic-container .q-card {
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    background: white;
    margin-bottom: 8px;
    position: relative;
}

.dynamic-container .material-icons {
    font-size: 24px;
    margin: 8px;
}

.dynamic-container button {
    padding: 8px 16px;
    margin: 4px;
    border: none;
    border-radius: 4px;
    background: #1976d2;
    color: white;
    cursor: pointer;
    position: relative;
}

.dynamic-container button:hover {
    background: #1565c0;
}

/* ÂìçÂ∫îÂºèÈÄÇÈÖç */
@media (max-width: 600px) {
    .animation-playground {
        height: 150px !important;
    }

    .drag-demo-area {
        height: 200px !important;
    }

    .draggable-item {
        width: 50px;
        height: 50px;
    }

    .animation-ball {
        width: 35px;
        height: 35px;
        font-size: 12px;
    }
}
</style>
